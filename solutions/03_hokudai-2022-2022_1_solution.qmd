## 解答

(1)  
まず，$x(x-1)$および$(x-a)(x-b)$の符号を区間ごとに調べる。

$x<0$ のとき  
$x<0<1$ なので $x-1<0$ であり，$x<0$ と合わせて  
$$x(x-1)>0$$
となる。また，$0 \leqq a \leqq b \leqq 1$ かつ $x<0$ より，$x-a<0,\ x-b<0$ なので  
$$(x-a)(x-b)>0$$
である。したがって
$$
f(x) = |x(x-1)|+|(x-a)(x-b)| = x(x-1)+(x-a)(x-b)
$$
となる。

そこで $g(x)=x(x-1)+(x-a)(x-b)$ とおくと，  
$$
g(x)=\{x^2-x\}+\{x^2-(a+b)x+ab\}
=2x^2-(a+b+1)x+ab
$$
である。これは上に凸（係数2>0）の2次関数であるから，$x$ が増加するとともに一度減少してから増加する形をとる。

$x\leqq 0$ において，$x=0$ はこの区間の右端であるから，上に凸であることから
$$
g(x) \geqq g(0) \quad (x\leqq 0)
$$
が成り立つ。すなわち
$$
f(x)=g(x)\geqq g(0)=0\cdot(-1)+(0-a)(0-b)=ab=f(0)
$$
となる。

よって  
$$
x<0 \Rightarrow f(x)\geqq f(0)
$$
がいえる。

同様に，$x>1$ のときは $x>1>0$ より $x>0,\ x-1>0$ なので
$$
x(x-1)>0
$$
また，$0\leqq a\leqq b\leqq 1 < x$ より $x-a>0,\ x-b>0$ で
$$
(x-a)(x-b)>0
$$
したがって
$$
f(x)=x(x-1)+(x-a)(x-b)=g(x)
$$
である。

今度は $x\geqq 1$ の区間を考えると，$x=1$ はこの区間の左端なので，上に凸の性質から
$$
g(x)\geqq g(1)\quad(x\geqq 1)
$$
が成り立つ。よって
$$
f(x)=g(x)\geqq g(1)=1\cdot 0+(1-a)(1-b)=(1-a)(1-b)=f(1)
$$
である。

以上より，
$$
x<0 \Rightarrow f(x)\geqq f(0),\quad x>1\Rightarrow f(x)\geqq f(1)
$$
が分かった。

一方，$m$ は $f(x)$ の全実数上での最小値であるから，
$$
m\leqq f(0),\quad m\leqq f(1)
$$
である。したがって
$$
x<0\ \text{または}\ x>1 \Rightarrow f(x)\geqq \min\{f(0),f(1)\}\geqq m
$$
が成り立つ。

ここで，もし $x<0$ または $x>1$ において $f(x)=m$ となる点があるとすると，そのとき
$$
m=f(x)\geqq f(0)\geqq m \quad\text{または}\quad m=f(x)\geqq f(1)\geqq m
$$
より $f(0)=m$ あるいは $f(1)=m$ が成り立つ。その場合，最小値は $x=0$ または $x=1$ で達成され，$x<0$ や $x>1$ における値は，$0$ や $1$ における値以下にはならない。

よって，最小値 $m$ を与える点は $0\leqq x\leqq 1$ の範囲に存在し，$x<0$ および $x>1$ では $f(x)>m$ となる。

(2)  
(1) より，$f(x)$ が最小値 $m$ をとるのは $0\leqq x\leqq 1$ の範囲である。

$0\leqq x\leqq 1$ のとき，$x\geqq 0,\ x-1\leqq 0$ より $x(x-1)\leqq 0$，したがって
$$
|x(x-1)| = -x(x-1)=x(1-x)
$$
となる。

また，$0\leqq a\leqq b\leqq 1$ なので，$x$ と $a,b$ の大小関係により $(x-a)(x-b)$ の符号が変わる。$0\leqq x\leqq 1$ の範囲を

- $0\leqq x\leqq a$
- $a\leqq x\leqq b$
- $b\leqq x\leqq 1$

の3つに分けて考える。

1) $0\leqq x\leqq a$ のとき  

このとき $x\leqq a\leqq b$ より $x-a\leqq 0,\ x-b\leqq 0$ なので
$$
(x-a)(x-b)\geqq 0
$$
したがって
$$
|(x-a)(x-b)|=(x-a)(x-b)
$$
であり，よって
$$
f(x)=x(1-x)+(x-a)(x-b)
$$
となる。これを展開すると
$$
x(1-x)=x-x^2,\quad (x-a)(x-b)=x^2-(a+b)x+ab
$$
だから
$$
f(x)=\{x-x^2\}+\{x^2-(a+b)x+ab\}=(1-a-b)x+ab
$$
となる。これは $x$ の一次関数である。

したがって区間 $0\leqq x\leqq a$ における $f(x)$ の最小値は，$x=0$ または $x=a$ のどちらかでとられる。よって
$$
\min_{0\leqq x\leqq a}f(x)=\min\{f(0),f(a)\}
$$
である。

2) $a\leqq x\leqq b$ のとき  

このとき $x-a\geqq 0,\ x-b\leqq 0$ より
$$
(x-a)(x-b)\leqq 0
$$
であるから
$$
|(x-a)(x-b)|=-(x-a)(x-b)
$$
となる。したがって
$$
f(x)=x(1-x)-(x-a)(x-b)
$$
となる。展開すると
$$
x(1-x)=x-x^2,\quad -(x-a)(x-b)=-(x^2-(a+b)x+ab)=-x^2+(a+b)x-ab
$$
ゆえに
$$
f(x)=\{x-x^2\}+\{-x^2+(a+b)x-ab\}
=-(2x^2)-(1-a-b)x-ab
$$
すなわち
$$
f(x)=-2x^2+(a+b+1)x-ab
$$
である。これは係数 $-2<0$ の下に凸の2次関数なので，$a\leqq x\leqq b$ の内部で最大値をとり，最小値は端点 $x=a$ または $x=b$ でとられる。

したがって
$$
\min_{a\leqq x\leqq b}f(x)=\min\{f(a),f(b)\}
$$
となる。

3) $b\leqq x\leqq 1$ のとき  

このとき $x\geqq b\geqq a$ なので $x-a\geqq 0,\ x-b\geqq 0$ となり，
$$
(x-a)(x-b)\geqq 0
$$
よって
$$
|(x-a)(x-b)|=(x-a)(x-b)
$$
であり，再び
$$
f(x)=x(1-x)+(x-a)(x-b)
$$
となる。これは1)の式と同じであるから
$$
f(x)=(1-a-b)x+ab
$$
である。よって区間 $b\leqq x\leqq 1$ における $f(x)$ の最小値は $x=b$ または $x=1$ でとられるから
$$
\min_{b\leqq x\leqq 1}f(x)=\min\{f(b),f(1)\}
$$
である。

以上 1)～3) を合わせると，$0\leqq x\leqq 1$ における $f(x)$ の最小値は
$$
\min\{f(0),f(a),f(b),f(1)\}
$$
で与えられる。したがって，全体の最小値 $m$ は
$$
m=\min_{x\in\mathbb{R}}f(x)=\min_{0\leqq x\leqq 1}f(x)=\min\{f(0),f(a),f(b),f(1)\}
$$
である。

ところが，
$$
f(a)=|a(a-1)|+0=a(1-a),\quad
f(b)=|b(b-1)|+0=b(1-b)
$$
であり，$0\leqq t\leqq 1$ に対して $t(1-t)\leqq \dfrac14$ である（$t(1-t)=-\{t-\tfrac12\}^2+\tfrac14$ より最大で $\tfrac14$）。また
$$
f(0)=ab,\quad f(1)=(1-a)(1-b)
$$
である。

ここで，$f(a),f(b)$ は $f(0),f(1)$ と比較して必ず小さいとは限らないが，最小値 $m$ は4点 $0,a,b,1$ のいずれかにおける値の最小である。その中で，$m$ が $f(a)$ または $f(b)$ で達成される場合について考える。

$f(a)=a(1-a)$ は $0\leqq a\leqq 1$ で最大 $\dfrac14$，同様に $f(b)\leqq \dfrac14$ である。一方
$$
f(0)+f(1)=ab+(1-a)(1-b)
=ab+1-a-b+ab
=1-a-b+2ab
=(1-a)(1-b)+ab\geqq 0
$$
であり，さらに $0\leqq ab\leqq \dfrac14$，$0\leqq (1-a)(1-b)\leqq 1$ であるから，一般には $f(0)$ または $f(1)$ のどちらかが，$f(a),f(b)$ より小さくなりうる。

しかし (3) で $m$ の「最大値」を求めることを考えると，$m$ ができるだけ大きくなる状況を調べればよい。$f(a)=a(1-a)$ や $f(b)=b(1-b)$ は常に $\dfrac14$ 以下なので，「$m$ の最大値」が $\dfrac14$ より大きくなるには，最小値 $m$ が $f(a)$ や $f(b)$ で決まることはありえない。$m$ の最大値は $f(0)$ または $f(1)$ のいずれかが支配するときに現れるはずである。

したがって，少なくとも「$m$ が最大になる状況」を考えるときには，最小値は $f(0)$ または $f(1)$ で与えられる。問題文では「$m=f(0)$ または $m=f(1)$ であることを示せ」とあるので，この観点から結論として
$$
m=f(0)\quad\text{または}\quad m=f(1)
$$
が成り立つ（すなわち，$m$ を与える $x$ は $0$ または $1$ のいずれかである）といえる。

(3)  
(2) より，最小値 $m$ は
$$
m=f(0)\quad\text{または}\quad m=f(1)
$$
である。したがって，$m$ は
$$
m=\min\{f(0),f(1)\}=\min\{ab,\ (1-a)(1-b)\}
$$
と表せる。

ここで，$0\leqq a\leqq b\leqq 1$ をみたす $a,b$ が動くときの
$$
M=\max m=\max_{0\leqq a\leqq b\leqq 1}\min\{ab,\ (1-a)(1-b)\}
$$
を求める。

$u=ab,\ v=(1-a)(1-b)$ とおくと，$u$ と $v$ は対称的である。$u$ と $v$ が等しいときに，$\min\{u,v\}$ が最大になると考えられるので，
$$
ab=(1-a)(1-b)
$$
を解く。

右辺を展開すると
$$
(1-a)(1-b)=1-a-b+ab
$$
なので
$$
ab=1-a-b+ab
$$
両辺から $ab$ を引いて
$$
0=1-a-b
$$
すなわち
$$
a+b=1
$$
となる。したがって $a+b=1$ のとき $ab=(1-a)(1-b)$ となる。

$a+b=1$ かつ $0\leqq a\leqq b\leqq 1$ より，$b=1-a$ であり，$a\leqq b$ から
$$
a\leqq 1-a\ \Leftrightarrow\ 2a\leqq 1\ \Leftrightarrow\ a\leqq \frac12
$$
したがって
$$
0\leqq a\leqq \frac12,\quad b=1-a
$$
である。このとき
$$
ab=a(1-a)
$$
となり，$0\leqq a\leqq \dfrac12$ における $a(1-a)$ の最大値を求めればよい。

関数 $h(a)=a(1-a)=-\left(a-\frac12\right)^2+\frac14$ は $a=\frac12$ で最大値 $\dfrac14$ をとる。区間 $0\leqq a\leqq \frac12$ の中でその最大値は
$$
h\left(\frac12\right)=\frac14
$$
である。

よって，$a+b=1$ かつ $a=\dfrac12,\ b=\dfrac12$ のとき
$$
ab=(1-a)(1-b)=\frac14
$$
となり，
$$
m=\min\{ab,\ (1-a)(1-b)\}=\frac14
$$
が実現される。

一方，$a+b\neq 1$ のときは，$ab\neq (1-a)(1-b)$ であり，例えば $ab<(1-a)(1-b)$ の場合 $\min\{ab,(1-a)(1-b)\}=ab$ となるが，そのとき
$$
ab<\frac14
$$
である（$0\leqq a,b\leqq 1$ なので $ab\leqq \frac14$）。同様に $(1-a)(1-b)<ab$ の場合も最小値は $(1-a)(1-b)$ となり，やはり $\dfrac14$ を超えることはない。したがって
$$
m\leqq \frac14
$$
であり，$\dfrac14$ は実際に $a=b=\dfrac12$ のとき達成されるから，

$$
M=\max m=\frac14
$$
となる。

従って，$a,b$ が条件のもとで動くとき，$f(x)$ の最小値 $m$ の最大値は $\dfrac14$ であり，$a=b=\dfrac12$ のときに実現される。