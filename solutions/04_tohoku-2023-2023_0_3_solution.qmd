## 解答

2次関数 $f(x)=x^2+2ax-3$ を考える。平方完成すると  
$$
f(x)=x^2+2ax-3=(x+a)^2-a^2-3
$$
となり，下に凸の放物線で，頂点は $x=-a$，頂点の値は $-a^2-3$ である。  
$x$ の動く範囲は区間 $[a,a+3]$ である。

---

(1) 区間 $[a,a+3]$ における $f(x)$ の最大値 $M(a)$ を求める。

下に凸の放物線なので，閉区間での最大値は端点 $x=a$ または $x=a+3$ でとられる。  
そこで，
$$
f(a)=a^2+2a^2-3=3a^2-3,
$$
$$
f(a+3)=(a+3)^2+2a(a+3)-3
=a^2+6a+9+2a^2+6a-3
=3a^2+12a+6
$$
である。

よって
$$
M(a)=\max\{f(a),f(a+3)\}=\max\{\,3a^2-3,\ 3a^2+12a+6\,\}
$$
とおき，大小関係を調べる。

$f(a+3)\ge f(a)$ の条件を求めると，
$$
3a^2+12a+6 \ge 3a^2-3
$$
$$
12a+6 \ge -3
$$
$$
12a \ge -9
$$
$$
a \ge -\dfrac{3}{4}
$$
となる。したがって，
- $a\ge -\dfrac{3}{4}$ のとき最大値は $f(a+3)=3a^2+12a+6$，
- $a< -\dfrac{3}{4}$ のとき最大値は $f(a)=3a^2-3$

である。

以上より
$$
M(a)=
\begin{cases}
3a^2-3 & (a<-\dfrac{3}{4})\\[4pt]
3a^2+12a+6 & (a\ge -\dfrac{3}{4})
\end{cases}
$$
となる。

---

(2) 区間 $[a,a+3]$ における $f(x)$ の最小値 $m(a)$ を求める。

放物線は下に凸なので，頂点 $x=-a$ が区間 $[a,a+3]$ の内部にあれば，そこで最小値をとる。そうでなければ，最小値は端点のどちらかでとる。

まず，頂点 $x=-a$ が区間 $[a,a+3]$ に含まれる条件を考える：
$$
a \le -a \le a+3
$$
左側の不等式 $a\le -a$ から
$$
2a\le 0,\quad a\le 0
$$
右側の不等式 $-a\le a+3$ から
$$
-2a\le 3,\quad a\ge -\dfrac{3}{2}
$$
よって
$$
-\dfrac{3}{2}\le a\le 0
$$
のとき，頂点が区間内にある。

このときの最小値は頂点の値
$$
f(-a)=(-a)^2+2a(-a)-3
=a^2-2a^2-3
=-a^2-3
$$
である。

一方，$a<-\dfrac{3}{2}$ または $a>0$ のときは頂点が区間外にあり，最小値は端点 $x=a$ または $x=a+3$ のどちらかでとる。端点での値は (1) で求めたとおり
$$
f(a)=3a^2-3,\quad f(a+3)=3a^2+12a+6
$$
であるから，どちらが小さいかを場合ごとに調べる。

まず，$a<-\dfrac{3}{2}$ のときは，先ほどの不等式と同様に
$$
a<-\dfrac{3}{2}<-\dfrac{3}{4}
$$
であるから，(1) より $a<-\dfrac{3}{4}$ のときは $f(a)>f(a+3)$ となる。  
よって $a<-\dfrac{3}{2}$ のとき
$$
m(a)=f(a+3)=3a^2+12a+6
$$
である。

次に，$a>0$ のときは $a\ge -\dfrac{3}{4}$ が成立するから，(1) より
$$
f(a)\le f(a+3)
$$
となる。したがって $a>0$ のときの最小値は
$$
m(a)=f(a)=3a^2-3
$$
である。

以上をまとめると
$$
m(a)=
\begin{cases}
3a^2+12a+6 & (a<-\dfrac{3}{2})\\[4pt]
-a^2-3 & \left(-\dfrac{3}{2}\le a\le 0\right)\\[4pt]
3a^2-3 & (a>0)
\end{cases}
$$
となる。

---

(3) $a$ をすべての実数と動かしたときの $m(a)$ の最小値を求める。

(2) の結果から，3つの場合に分けて調べる。

1. $a<-\dfrac{3}{2}$ のとき  
   $$
   m(a)=3a^2+12a+6
   $$
   とおく。平方完成すると
   $$
   3a^2+12a+6
   =3\left(a^2+4a+2\right)
   =3\left[(a+2)^2-2\right]
   =3(a+2)^2-6
   $$
   となる。$a<-\dfrac{3}{2}$ の範囲で $(a+2)^2$ は $a=-2$ 付近で最小となり，$a=-2$ は条件を満たすので，最小値は
   $$
   m(-2)=3(-2)^2+12(-2)+6=12-24+6=-6
   $$
   である。この場合での最小値は $-6$。

2. $-\dfrac{3}{2}\le a\le 0$ のとき  
   $$
   m(a)=-a^2-3
   $$
   は $-a^2$ が最大で $a=0$ のときに最大 $0$ となる。したがって
   $$
   m(a)\le m(0)=-3
   $$
   であり，この範囲での $m(a)$ の最小値は $a=\pm\dfrac{3}{2}$ のとき
   $$
   m\left(-\dfrac{3}{2}\right)=m(0) \text{ ではなく } 
   m\left(-\dfrac{3}{2}\right)=-\left(\dfrac{3}{2}\right)^2-3
   =-\dfrac{9}{4}-3=-\dfrac{21}{4}
   $$
   などと値は変わるが，いずれにせよ $-a^2-3\ge -\infty$ ではなく，上に凸の2次式のため最大値が問題となる。ここでは「区間内における $m(a)$ の最小値」は端点で比較する必要があるが，全体の最小値を比べるには，先の $-6$ と比較すればよい。$-a^2-3$ は常に $-3$ 以下で，$-6<-3$ なので，この場合の範囲では $-6$ より小さな値は出ない。

   実際に，$-\dfrac{3}{2}\le a\le 0$ のとき
   $$
   m(a)=-a^2-3\ge -3
   $$
   である。

3. $a>0$ のとき  
   $$
   m(a)=3a^2-3
   $$
   は上に凸の2次式で，最小値は $a=0$ で $-3$ となるが，$a>0$ の範囲では $a=0$ をとらないので，$a$ を $0^+$ とするときに $-3$ に近づき，それより大きい値をとる。したがって
   $$
   m(a)>-3
   $$
   であり，これも $-6$ より大きい。

以上より，全体として最も小さい値は，$a=-2$ のときにとる値
$$
m(-2)=-6
$$
である。

したがって，$m(a)$ の最小値は $-6$ である。