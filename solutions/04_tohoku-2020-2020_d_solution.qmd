## 解答

(1)  
$M$ が $A$ にいるとき，さいころの目が偶数（2,4,6）のとき $A$ にとどまり，奇数（1,3,5）のとき $B$ に移る。  
よって  
- 「$A$ にいて次も $A$」である確率は $3/6=1/2$  
- 「$B$ にいて次に $A$」である確率は，さいころが3,4,5,6のときなので $4/6=2/3$

したがって，$n+1$ 回目の試行の後で $A$ にいる確率 $p_{n+1}$ は，全確率の法則より
$$
p_{n+1}
= (\text{$n$ 回目に $A$ にいた場合})+\ (\text{$n$ 回目に $B$ にいた場合})
$$
$$
= \frac{1}{2}p_n + \frac{2}{3}q_n
$$
となる。

同様に，$B$ にいる確率 $q_{n+1}$ は，
- 「$A$ にいて次に $B$」である確率は $1 - 1/2 = 1/2$  
- 「$B$ にいて次も $B$」である確率は，さいころが1,2のときなので $2/6=1/3$

より
$$
q_{n+1}
= \frac{1}{2}p_n + \frac{1}{3}q_n
$$
となる。

したがって，
$$
p_{n+1} = \frac12 p_n + \frac23 q_n,\quad
q_{n+1} = \frac12 p_n + \frac13 q_n
$$
である。

---

(2)  
初期状態は「$M$ は $A$ からスタートする」より  
$$
p_1 = \frac{1}{2},\quad q_1 = \frac{1}{2}
$$
である（1 回目の後は，$A$ にいる確率が $1/2$，$B$ にいる確率が $1/2$）。

また，いつの試行後でも
$$
p_n + q_n = 1
$$
が成り立つ。これを用いて $p_n$ のみの漸化式を作る。

(1) の式
$$
p_{n+1} = \frac12 p_n + \frac23 q_n
$$
に $q_n = 1 - p_n$ を代入すると，
$$
p_{n+1} = \frac12 p_n + \frac23 (1 - p_n)
= \frac12 p_n + \frac23 - \frac23 p_n
= -\frac16 p_n + \frac23
$$
すなわち
$$
p_{n+1} = -\frac{1}{6}p_n + \frac{2}{3}
$$
を得る。

この一次の線形漸化式を解く。  
まず定常解（$p_{n+1}=p_n=x$ をみたす定数解）を求めると，
$$
x = -\frac{1}{6}x + \frac{2}{3}
$$
より
$$
x + \frac{1}{6}x = \frac{7}{6}x = \frac{2}{3}
$$
したがって
$$
x = \frac{2}{3} \cdot \frac{6}{7} = \frac{4}{7}
$$
である。

そこで $p_n$ を
$$
p_n = \frac{4}{7} + u_n
$$
とおき，$u_n$ の満たす漸化式を求める。  
上の漸化式に代入すると
$$
\frac{4}{7} + u_{n+1} = -\frac{1}{6}\left(\frac{4}{7} + u_n\right) + \frac{2}{3}
$$
右辺を整理すると
$$
-\frac{1}{6}\cdot\frac{4}{7} + \frac{2}{3}
= -\frac{4}{42} + \frac{28}{42}
= \frac{24}{42}
= \frac{4}{7}
$$
なので
$$
\frac{4}{7} + u_{n+1} = \frac{4}{7} - \frac{1}{6}u_n
$$
よって
$$
u_{n+1} = -\frac{1}{6}u_n
$$
となる。これは初期条件
$$
u_1 = p_1 - \frac{4}{7} = \frac{1}{2} - \frac{4}{7}
= \frac{7}{14} - \frac{8}{14}
= -\frac{1}{14}
$$
をもつ等比数列の漸化式であるから，
$$
u_n = u_1\left(-\frac{1}{6}\right)^{n-1}
= -\frac{1}{14}\left(-\frac{1}{6}\right)^{\,n-1}
$$
したがって
$$
p_n = \frac{4}{7} + u_n
= \frac{4}{7} - \frac{1}{14}\left(-\frac{1}{6}\right)^{\,n-1}
$$
となる。

$$
q_n = 1 - p_n
$$
より
$$
q_n = 1 - \left\{\frac{4}{7} - \frac{1}{14}\left(-\frac{1}{6}\right)^{\,n-1}\right\}
= \frac{3}{7} + \frac{1}{14}\left(-\frac{1}{6}\right)^{\,n-1}
$$
である。

まとめると，
$$
p_n = \frac{4}{7} - \frac{1}{14}\left(-\frac{1}{6}\right)^{\,n-1},\quad
q_n = \frac{3}{7} + \frac{1}{14}\left(-\frac{1}{6}\right)^{\,n-1}
$$
となる。