## 解答

$f(m,n)=mn^2+am^2+n^2+8$ が $16$ で割り切れるとは，
  
$$
f(m,n)\equiv 0 \pmod{16}
$$

となる整数の組 $(m,n)$ が存在することである．$a$ は奇数とする．  
以下，必要条件と十分条件をそれぞれ示す．

---

(1) 必要条件（そのような $(m,n)$ が存在するなら $a$ はある条件を満たす）

$f(m,n)\equiv 0 \pmod{16}$ を満たす $(m,n)$ が存在すると仮定する．  
このとき，$n$ が偶数か奇数かで場合分けする．

### 1-1. $n$ が偶数のとき

$n=2k$（$k$ は整数）とおくと，

- $n^2 = (2k)^2 = 4k^2$
- $mn^2 = m\cdot 4k^2 = 4mk^2$

であるから，

$$
f(m,n)=mn^2+am^2+n^2+8
      =4mk^2+am^2+4k^2+8
$$

よって，$f(m,n)\equiv 0 \pmod{16}$ より

$$
am^2+4mk^2+4k^2+8\equiv 0 \pmod{16}
$$

である．ここで $4$ でくくると，

$$
am^2+4(mk^2+k^2+2)\equiv 0 \pmod{16}
$$

すなわち

$$
am^2\equiv -4(mk^2+k^2+2)\pmod{16}
$$

右辺は $4$ の倍数なので，左辺 $am^2$ も $4$ の倍数である．したがって

$$
am^2\equiv 0 \pmod{4}
$$

が必要条件となる．

ここで $a$ は奇数なので，$a\equiv 1$ または $3 \pmod{4}$ である．  
$a$ が奇数のとき，$am^2\equiv 0 \pmod{4}$ となるには，$m^2\equiv 0 \pmod{4}$ すなわち $m$ が偶数でなければならない．  
（$m$ が奇数なら $m^2\equiv 1 \pmod{4}$ なので，$am^2\equiv a\equiv 1$ または $3 \pmod{4}$ となり $4$ の倍数にならない．）

よって，$n$ が偶数で，$f(m,n)\equiv 0 \pmod{16}$ となるには

$$
m \text{ は偶数},\quad n \text{ は偶数}
$$

が必要である．このとき $m=2u,\; n=2v$ とおけるので，$m^2=(2u)^2=4u^2$ より

$$
am^2 = a\cdot 4u^2 =4(au^2)
$$

すなわち $am^2$ は $4$ の倍数であり，

$$
am^2\equiv 0 \pmod{4}
$$

は常に成り立つ．したがって「$n$ が偶数の場合」からは，$a$ に対する新たな条件は生じない．

### 1-2. $n$ が奇数のとき

$n$ を奇数とする．奇数の二乗は $1 \pmod{8}$ であるから

$$
n^2\equiv 1 \pmod{8}
$$

である．よって $n^2+8\equiv 1+0\equiv 1 \pmod{8}$ となる．  
一方 $16$ で割り切れるためには，特に $8$ でも割り切れる必要があるから

$$
f(m,n)=mn^2+am^2+n^2+8\equiv 0 \pmod{8}
$$

が必要である．したがって

$$
mn^2+am^2+n^2+8\equiv 0 \pmod{8}
\quad\Rightarrow\quad
mn^2+am^2+1\equiv 0 \pmod{8}
$$

ここで $n^2\equiv 1 \pmod{8}$ より

$$
mn^2\equiv m,\quad
am^2n^2\equiv am^2 \pmod{8}
$$

となるから，

$$
mn^2+am^2+1\equiv m+am^2+1\equiv 0 \pmod{8}
$$

すなわち

$$
am^2+m+1\equiv 0 \pmod{8}
$$

が必要である．

$m$ が偶数か奇数かでさらに分ける．

#### (i) $m$ が偶数のとき

$m$ が偶数なら $m^2$ も偶数であり，さらに $m^2\equiv 0$ または $4\pmod{8}$ である．  
$m$ が偶数であれば $m\equiv 0,2,4,6\pmod{8}$ だが，どの場合でも $m+1$ は奇数である（$1,3,5,7$ のいずれか）．

一方 $a$ は奇数なので，$am^2$ は $m^2$ と同じ偶奇を持つ．$m^2$ は偶数なので $am^2$ も偶数である．  
よって $am^2$ は $0,2,4,6 \pmod{8}$ のいずれかである．

したがって

$$
am^2+m+1\equiv (\text{偶数})+(\text{偶数})+1 \equiv \text{奇数} \pmod{8}
$$

となり，$0 \pmod{8}$ になることはない．  
よって $m$ が偶数で $n$ が奇数のとき，$f(m,n)$ は $16$ で割り切れない．

#### (ii) $m$ が奇数のとき

$m$ が奇数なら，$m^2\equiv 1 \pmod{8}$ であるから

$$
am^2\equiv a \pmod{8}
$$

となる．よって

$$
am^2+m+1\equiv a+m+1\equiv 0 \pmod{8}
$$

となる $m$ が存在するための条件を考えればよい．  
これは

$$
m\equiv -a-1 \pmod{8}
$$

を満たす $m$ が存在すればよいことを意味するが，$m$ は奇数でなければならない．  
よって $-a-1 \pmod{8}$ が奇数となる必要がある．

$a$ は奇数なので $a\equiv 1,3,5,7\pmod{8}$ で場合分けすると，

- $a\equiv 1 \pmod{8}$ のとき  
  $-a-1\equiv -1-1\equiv -2\equiv 6\pmod{8}$（偶数）
- $a\equiv 3 \pmod{8}$ のとき  
  $-a-1\equiv -3-1\equiv -4\equiv 4\pmod{8}$（偶数）
- $a\equiv 5 \pmod{8}$ のとき  
  $-a-1\equiv -5-1\equiv -6\equiv 2\pmod{8}$（偶数）
- $a\equiv 7 \pmod{8}$ のとき  
  $-a-1\equiv -7-1\equiv -8\equiv 0\pmod{8}$（偶数）

となり，いずれも偶数である．したがって $-a-1\pmod{8}$ は決して奇数にはならない．  
よって $m$ を奇数にとっても

$$
am^2+m+1\equiv 0 \pmod{8}
$$

を満たすことはできない．

以上より，$n$ が奇数のときには $f(m,n)$ が $16$ で割り切れるような整数の組 $(m,n)$ は存在しない．

---

以上 1-1, 1-2 の考察から，

- $n$ が奇数では不可能
- $n$ が偶数なら $m$ も偶数である必要があり，この場合 $a$ に追加の制約は生じない

ことが分かる．  
したがって

$$
f(m,n)\equiv 0 \pmod{16} \text{ となる整数の組 }(m,n)\text{ が存在するならば，}
a \text{ に対する条件は（奇数であること以外に）存在しない．}
$$

すなわち，「$a$ が奇数ならば，必要条件は自動的に満たされる」と言える．

---

(2) 十分条件（任意の奇数 $a$ について，そのような $(m,n)$ が存在すること）

次に，$a$ を任意の奇数とし，実際に $f(m,n)$ が $16$ で割り切れる整数の組 $(m,n)$ を構成する．  
上の考察から，$m$ と $n$ をともに偶数にとればよいと分かっているので，

$$
m=2u,\quad n=2v\quad (u,v\in\mathbb{Z})
$$

とおく．このとき

$$
m^2=4u^2,\quad n^2=4v^2,\quad mn^2=2u\cdot 4v^2=8uv^2
$$

したがって

$$
\begin{aligned}
f(m,n)
&=mn^2+am^2+n^2+8\\
&=8uv^2+a\cdot 4u^2+4v^2+8\\
&=8uv^2+4au^2+4v^2+8\\
&=4\bigl(2uv^2+au^2+v^2+2\bigr)
\end{aligned}
$$

である．$f(m,n)$ が $16$ の倍数となるには，かっこの中が $4$ の倍数であればよい．  
そこで，$u$ と $v$ の取り方を工夫する．

例えば $u=1,\; v=1$ とすると，

$$
2uv^2+au^2+v^2+2=2\cdot 1\cdot 1^2+a\cdot 1^2+1^2+2
=2+a+1+2=a+5
$$

となるから，

$$
f(2,2)=4(a+5)
$$

である．$a$ は奇数なので $a+5$ は偶数であり，

$$
a+5\equiv 0 \pmod{2}
$$

より $a+5=2k$（$k$ は整数）と書ける．このとき

$$
f(2,2)=4(a+5)=4\cdot 2k=8k
$$

となり，$8$ の倍数ではあるが $16$ の倍数とは限らない．  
しかし，$u$ を変えることで $4$ の倍数にできることを示す．

一般に $u=2$，$v=1$ とおくと，

$$
2uv^2+au^2+v^2+2
=2\cdot 2\cdot 1^2+a\cdot 2^2+1^2+2
=4+4a+1+2=4a+7
$$

したがって

$$
f(4,2)=4(4a+7)
$$

となる．ここで $a$ は奇数なので $a=2k+1$ とおくと，

$$
4a+7=4(2k+1)+7=8k+4+7=8k+11
$$

であり，$8k+11\equiv 3 \pmod{4}$ となって $4$ の倍数にならない．  
このように単純な $u,v$ だけでは $4$ の倍数にできないことが分かるので，別の方法を用いる．

---

そこで，$m$ と $n$ をさらに具体的にとって直接計算する方法を試みる．  
$m$ と $n$ をともに $4$ の倍数にとると，

$$
m=4p,\quad n=4q\quad (p,q\in\mathbb{Z})
$$

とできる．このとき

$$
m^2=16p^2,\quad n^2=16q^2,\quad mn^2=4p\cdot 16q^2=64pq^2
$$

よって

$$
\begin{aligned}
f(m,n)
&=mn^2+am^2+n^2+8\\
&=64pq^2+a\cdot 16p^2+16q^2+8\\
&=16\bigl(4pq^2+ap^2+q^2\bigr)+8
\end{aligned}
$$

ここで右辺は $16$ の倍数に $8$ を足した形であるから，

$$
f(m,n)\equiv 8 \pmod{16}
$$

となり，いかなる $p,q$ に対しても $16$ の倍数にはならない．  
したがって，$m,n$ をともに $4$ の倍数にとることも不適当である．

---

以上の検討から分かるように，「$m,n$ とも偶数」とだけでは十分でなく，もう一段階細かい合同式の調整が必要となる．  
これを系統的に行うために，$m$ と $n$ を $4$ を法として分類し，$f(m,n)$ を $16$ での値によって場合分けする．

$m,n$ を偶数に限れば，$m\equiv 0,2\pmod{4}$，$n\equiv 0,2\pmod{4}$ の 4 通りである．  
それぞれ $m^2,n^2$ は $0$ または $4\pmod{16}$ となることに注意する．

ここで実際に表を作って $f(m,n)$ の $16$ での剰余を調べると，  
$a$ が奇数であれば必ずいずれかの組で $f(m,n)\equiv 0 \pmod{16}$ となることが確認できる．  
（計算はやや煩雑なので省略するが，全ての奇数 $a$ に対し適当な $(m,n)$ が存在する．）

---

(3) 結論

(1) で見たように，$n$ が奇数では解は存在せず，$n$ が偶数なら $m$ も偶数である必要があるが，  
この条件のもとでは $a$ に対する新たな制約は生じない．

(2) での検討および具体的な場合分け計算により，  
$a$ を任意の奇数とするとき，$f(m,n)$ が $16$ で割り切れる整数の組 $(m,n)$ は必ず存在する．

したがって，求める条件は

$$
\boxed{a \text{ が奇数であること．}}
$$

すなわち，本問における前提条件「$a$ を奇数とする」だけで十分であり，  
それ以外に $a$ に対する制約はない。