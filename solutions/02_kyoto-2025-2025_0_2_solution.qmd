## 解答

$f(x)$ を実数係数の2次式とし，
$$
f(x)=px^2+qx+r \quad (p,q,r \in \mathbb{R})
$$
とおく．また実数 $c$ を用いて，条件(＊)より $x$ についての恒等式
$$
\frac{1}{8}x^4+ax^3+bx^2 = f(f(x)) + c
$$
が成り立つとする．

まず $f(f(x))$ を具体的に計算する．

$$
f(f(x)) = p\,(f(x))^2 + q\,f(x) + r
       = p(px^2+qx+r)^2 + q(px^2+qx+r) + r
$$

これを展開する．

1. $(px^2+qx+r)^2$ を展開すると
   $$
   (px^2+qx+r)^2
     = p^2x^4 + 2pqx^3 + (2pr+q^2)x^2 + 2qrx + r^2
   $$
2. よって
   $$
   f(f(x))
   = p\left( p^2x^4 + 2pqx^3 + (2pr+q^2)x^2 + 2qrx + r^2 \right)
     + q(px^2+qx+r) + r
   $$
   右辺を係数ごとにまとめると
   \[
   \begin{aligned}
   f(f(x)) ={}& p^3x^4 + 2p^2qx^3 + \bigl(p(2pr+q^2)+pq\bigr)x^2 \\
              & \quad + \bigl(2pq r + q^2\bigr)x + \bigl(pr^2 + qr + r\bigr)
   \end{aligned}
   \]
   となる．

したがって
$$
f(f(x)) + c
= p^3x^4 + 2p^2qx^3 + \bigl(p(2pr+q^2)+pq\bigr)x^2
  + \bigl(2pq r + q^2\bigr)x + \bigl(pr^2 + qr + r + c\bigr)
$$
である．

一方，左辺は
$$
\frac{1}{8}x^4+ax^3+bx^2+0\cdot x+0
$$
という4次式である．「恒等式」であるから，両辺の同次数の $x$ の係数をそれぞれ比較する．

### (1) 係数比較

$x^4$ の係数より
$$
p^3 = \frac{1}{8}
$$
$x^3$ の係数より
$$
2p^2 q = a
$$
$x^2$ の係数より
$$
p(2pr+q^2)+pq = b
$$
$x$ の係数より
$$
2pq r + q^2 = 0
$$
定数項より
$$
pr^2 + qr + r + c = 0
$$

条件(＊) では $f(x)$ と $c$ が「存在する」ことが必要なので，上の5つの方程式が同時に成り立つような $p,q,r,c$ が存在すればよい．$c$ は最後の式で任意に決められるので，$(a,b)$ に関する条件は，$p,q,r$ についての上4つの式から得られる制約に帰着できる．

まず $p^3=\dfrac{1}{8}$ より
$$
p = \frac{1}{2}
$$
となる（実数解のみを考えるので，実数立方根は一つ）．

これを用いて残りの式を整理する．

- $2p^2 q = a$ に $p=\dfrac{1}{2}$ を代入すると
  $$
  2\left(\frac{1}{2}\right)^2 q = a
  \quad\Rightarrow\quad
  \frac{1}{2}q = a
  \quad\Rightarrow\quad
  q = 2a
  $$

- $2pq r + q^2 = 0$ に $p=\dfrac{1}{2}, q=2a$ を代入すると
  $$
  2\cdot\frac{1}{2}\cdot(2a) r + (2a)^2 = 0
  \quad\Rightarrow\quad
  2a r + 4a^2 = 0
  \quad\Rightarrow\quad
  2a(r+2a)=0
  $$
  ここから
  $$
  a = 0 \quad \text{または} \quad r = -2a
  $$
  が得られる．

- $x^2$ の係数の式
  $$
  p(2pr+q^2)+pq = b
  $$
  に $p=\dfrac{1}{2}, q=2a$ を代入して計算すると
  \[
  \begin{aligned}
  b &= \frac{1}{2}\bigl(2\cdot\frac{1}{2}r + (2a)^2\bigr)
       + \frac{1}{2}\cdot(2a) \\
    &= \frac{1}{2}\left(r + 4a^2\right) + a
     = \frac{r}{2} + 2a^2 + a
  \end{aligned}
  \]
  よって
  $$
  b = \frac{r}{2} + 2a^2 + a
  $$
  となる．

ここから，$a=0$ の場合と $a\neq 0$ の場合に分けて $(a,b)$ の条件を求める．

### (2) 場合分け

#### ① $a=0$ の場合

先ほどの $2a(r+2a)=0$ は自動的に成り立ち，$r$ には何の制約もない．

$q = 2a$ より $q = 0$ であり，
$$
b = \frac{r}{2} + 2a^2 + a = \frac{r}{2}
$$
となる．$r$ は任意の実数なので，$b$ も任意の実数をとりうる．

したがって $a=0$ のとき，$(a,b)$ は
$$
(0, b) \quad (b \in \mathbb{R})
$$
のすべてが条件(＊)を満たす．これは $a=0$ 上の $b$ 軸全体に相当する．

#### ② $a \neq 0$ の場合

$2a(r+2a)=0$ から $a\neq 0$ ならば
$$
r = -2a
$$
となる．これを $b = \dfrac{r}{2} + 2a^2 + a$ に代入すると
\[
\begin{aligned}
b &= \frac{-2a}{2} + 2a^2 + a \\
  &= -a + 2a^2 + a \\
  &= 2a^2
\end{aligned}
\]
したがって $a\neq 0$ のとき，
$$
b = 2a^2
$$
でなければならない．

ただし $a=0$ のときにも $b=2a^2=0$ であるから，この式 $b=2a^2$ は $a=0$ を含めた全ての $a$ について意味をもつ．

上で求めた①の結果（$a=0$ なら $b$ 任意）と合わせると，

- $a\neq 0$ のときは，必ず $b=2a^2$ でなければならず，
- $a=0$ のときのみ，$b$ は任意の実数をとる．

よって，条件(＊)を満たす $(a,b)$ 全体の集合は，

- 放物線 $b=2a^2$ 上の点すべて（$a$ は任意の実数），
- ただし $a=0$ に限り，それ以外の全ての $b$ についても許されるので，$a=0$ における点 $(0,b)$ が全て含まれる．

となる．図示すると，

- 放物線 $b=2a^2$（頂点が原点，下に凸でなく上に凸？ではなく係数2なので上に開いた放物線）を描き，
- $a=0$ の $b$ 軸上においては，この放物線上の点 $(0,0)$ だけでなく，$b$ 軸上の全ての点 $(0,b)$ を追加する，

という形になる．

まとめると，条件(＊)を満たす点 $(a,b)$ の集合は
$$
\{(a,b) \mid b=2a^2\} \cup \{(0,b) \mid b\in\mathbb{R}\}
$$
である．