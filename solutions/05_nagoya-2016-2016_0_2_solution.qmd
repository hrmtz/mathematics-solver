## 解答

(1)  
カードは $0$ が1枚，$2$ が1枚，$1$ が $n$ 枚ある。積が1以上となるのは，積が $0$ とならない場合，すなわち $0$ のカードを1枚も含まない場合である。  
$k$ 枚の選び方の総数は  
$$
\binom{n+2}{k}
$$
である。$0$ を含まないためには，$2$ と $1$ から $k$ 枚選べばよく，$2$ は1枚しかないので，「$2$ を選ぶか選ばないか」の場合分けをする。

- $2$ を選ばないとき：$1$ から $k$ 枚選ぶ  
  選び方の数は $\binom{n}{k}$（ただし $k \le n$ のとき，$k>n$ のときは $0$ 通りとみなせる）。

- $2$ を選ぶとき：$2$ を1枚と，$1$ から $k-1$ 枚選ぶ  
  選び方の数は $\binom{n}{k-1}$（ただし $k-1 \le n$ のとき）。

したがって，積が1以上となる場合の数は  
$$
\binom{n}{k} + \binom{n}{k-1}
$$
である。よって，求める確率は  
$$
\frac{\binom{n}{k} + \binom{n}{k-1}}{\binom{n+2}{k}}
$$
である。

（補足：二項係数の恒等式 $\binom{n}{k} + \binom{n}{k-1} = \binom{n+1}{k}$ を用いれば，  
$$
\frac{\binom{n}{k} + \binom{n}{k-1}}{\binom{n+2}{k}}
= \frac{\binom{n+1}{k}}{\binom{n+2}{k}}
= \frac{n+2-k}{n+2}
$$
とも表せる。ただし $1 \le k \le n+1$ のときであり，$k=n+2$ のときは確率 $0$ となる。）

---

(2)  
積が $2$ となるための条件を考える。カードには $0,1,2$ しかないので，積が $2$ となるためには

- $0$ を含まない（含めば積は $0$），
- $2$ をちょうど1枚含み，他はすべて $1$

でなければならない。よって，選んだ $k$ 枚の中身は，「$2$ を1枚，$1$ を $k-1$ 枚」である。  
$2$ は1枚しかないため，$2$ の選び方は1通り，$1$ から $k-1$ 枚選ぶ方法は $\binom{n}{k-1}$ 通りである。

したがって，積が $2$ となる場合の数は $\binom{n}{k-1}$，よって確率 $Q_n(k)$ は  
$$
Q_n(k)
= \frac{\binom{n}{k-1}}{\binom{n+2}{k}}
$$
となる。

---

(3)  
(2)で求めた式
$$
Q_n(k) = \frac{\binom{n}{k-1}}{\binom{n+2}{k}}
$$
が最大となる $k$ とその値を求める。定義から $\binom{n}{k-1}$ が $0$ にならないのは $1 \le k-1 \le n$，すなわち  
$$
1 \le k \le n+1
$$
のときである。この範囲で最大を調べればよい。

隣り合う $k$ の値での比を求めて単調性を調べる。  
$1 \le k \le n$ に対して
$$
\frac{Q_n(k+1)}{Q_n(k)}
= \frac{\dfrac{\binom{n}{k}}{\binom{n+2}{k+1}}}{\dfrac{\binom{n}{k-1}}{\binom{n+2}{k}}}
= \frac{\binom{n}{k}}{\binom{n}{k-1}} \cdot \frac{\binom{n+2}{k}}{\binom{n+2}{k+1}}
$$
とおく。ここで，二項係数の一般公式
$$
\frac{\binom{a}{b}}{\binom{a}{b-1}} = \frac{a-b+1}{b}
$$
を用いると，
$$
\frac{\binom{n}{k}}{\binom{n}{k-1}}
= \frac{n-k+1}{k},
\quad
\frac{\binom{n+2}{k}}{\binom{n+2}{k+1}}
= \frac{k+1}{n+2-k}
$$
となる。したがって
$$
\frac{Q_n(k+1)}{Q_n(k)}
= \frac{n-k+1}{k} \cdot \frac{k+1}{n+2-k}
= \frac{(n-k+1)(k+1)}{k(n+2-k)}
$$
である。

この大小を比較するため，両辺を $1$ と比較し，不等式
$$
\frac{(n-k+1)(k+1)}{k(n+2-k)} \ge 1
$$
を解く。分母は正なので，分子と分母の大小を比較すればよい：
$$
(n-k+1)(k+1) \ge k(n+2-k)
$$
左辺・右辺を展開して整理する：
\[
\begin{aligned}
\text{左辺} &= (n+1-k)(k+1) \\
            &= (n+1)k + (n+1) - k^2 - k \\
            &= nk + k + n + 1 - k^2 - k \\
            &= nk + n + 1 - k^2,\\
\text{右辺} &= k(n+2-k) \\
            &= kn + 2k - k^2.
\end{aligned}
\]
よって
$$
nk + n + 1 - k^2 \ge kn + 2k - k^2
$$
となり，$nk$ と $-k^2$ は両辺で打ち消し合うから
$$
n + 1 \ge 2k
$$
すなわち
$$
k \le \frac{n+1}{2}
$$
となる。

以上より，
- $k \le \dfrac{n+1}{2}$ のとき $\dfrac{Q_n(k+1)}{Q_n(k)} \ge 1$，すなわち $Q_n(k+1) \ge Q_n(k)$ で増加，
- $k \ge \dfrac{n+1}{2}$ のとき $\dfrac{Q_n(k+1)}{Q_n(k)} \le 1$，すなわち $Q_n(k+1) \le Q_n(k)$ で減少

となる。したがって $Q_n(k)$ は $k$ に関して「上に凸」の形で，$k = \dfrac{n+1}{2}$ 付近で最大となる。

ここで，$k$ は整数なので，

- $n$ が奇数のとき：$\dfrac{n+1}{2}$ は整数であり，そこでちょうど最大となる。
- $n$ が偶数のとき：$\dfrac{n+1}{2}$ は整数でないので，その両側の整数，すなわち
  $k=\dfrac{n}{2}$ と $k=\dfrac{n}{2}+1$ が共に最大値をとる（左右対称）。

以下，場合分けして最大となる $k$ と最大値を求める。

### (i) $n$ が奇数のとき

$n$ を奇数とし，  
$$
n = 2m - 1 \quad (m \ge 1)
$$
とおく。このとき
$$
\frac{n+1}{2} = m
$$
で整数となり，$k=m$ で $Q_n(k)$ は最大となる。最大値は
\[
\begin{aligned}
Q_n(m)
&= \frac{\binom{n}{m-1}}{\binom{n+2}{m}} \\
&= \frac{\binom{2m-1}{m-1}}{\binom{2m+1}{m}}.
\end{aligned}
\]
二項係数の定義を用いて簡単化する：
\[
\begin{aligned}
\binom{2m-1}{m-1}
&= \frac{(2m-1)!}{(m-1)!\,(m)!},\\
\binom{2m+1}{m}
&= \frac{(2m+1)!}{m!\,(m+1)!}.
\end{aligned}
\]
したがって
\[
\begin{aligned}
Q_n(m)
&= \frac{(2m-1)!}{(m-1)!\,m!} \cdot \frac{m!\,(m+1)!}{(2m+1)!} \\
&= \frac{(2m-1)!\,(m+1)!}{(m-1)!\,(2m+1)!}.
\end{aligned}
\]
ここで
$$
(m+1)! = (m+1)m(m-1)!,\quad
(2m+1)! = (2m+1)(2m)(2m-1)!
$$
を用いると，
\[
\begin{aligned}
Q_n(m)
&= \frac{(2m-1)!\,(m+1)m(m-1)!}{(m-1)!\,(2m+1)(2m)(2m-1)!} \\
&= \frac{m(m+1)}{2m(2m+1)} \\
&= \frac{m+1}{2(2m+1)}.
\end{aligned}
\]
$n = 2m-1$ なので $m = \dfrac{n+1}{2}$ とおき直せば，
\[
\begin{aligned}
Q_n(m)
&= \frac{\dfrac{n+1}{2} + 1}{2\left(2\cdot\dfrac{n+1}{2} + 1\right)} \\
&= \frac{\dfrac{n+3}{2}}{2(n+2)} \\
&= \frac{n+3}{4(n+2)}.
\end{aligned}
\]

よって，$n$ が奇数のとき，  
$$
k = \frac{n+1}{2}
$$
で $Q_n(k)$ は最大となり，その最大値は
$$
\frac{n+3}{4(n+2)}
$$
である。

### (ii) $n$ が偶数のとき

$n$ を偶数とし，
$$
n = 2m \quad (m \ge 1)
$$
とおく。このとき
$$
\frac{n+1}{2} = m + \frac12
$$
であり，$Q_n(k)$ は $k=m$ および $k=m+1$ で同じ最大値をとる。

まず $k=m$ のとき
\[
\begin{aligned}
Q_n(m)
&= \frac{\binom{n}{m-1}}{\binom{n+2}{m}} \\
&= \frac{\binom{2m}{m-1}}{\binom{2m+2}{m}}.
\end{aligned}
\]
同様に $k=m+1$ のとき
\[
\begin{aligned}
Q_n(m+1)
&= \frac{\binom{n}{m}}{\binom{n+2}{m+1}} \\
&= \frac{\binom{2m}{m}}{\binom{2m+2}{m+1}}.
\end{aligned}
\]
これら2つが等しいことは，先の増減判定から分かるので，どちらかを計算すればよい。ここでは $Q_n(m+1)$ を計算する。

二項係数を用いて
\[
\begin{aligned}
Q_n(m+1)
&= \frac{(2m)!}{m!\,m!} \cdot \frac{(m+1)!\,(m+1)!}{(2m+2)!} \\
&= \frac{(2m)!\,(m+1)^2 (m!)^2}{(m!)^2\,(2m+2)!} \\
&= \frac{(2m)!\,(m+1)^2}{(2m+2)!}.
\end{aligned}
\]
さらに
$$
(2m+2)! = (2m+2)(2m+1)(2m)!
$$
なので
\[
\begin{aligned}
Q_n(m+1)
&= \frac{(2m)!\,(m+1)^2}{(2m+2)(2m+1)(2m)!} \\
&= \frac{(m+1)^2}{(2m+2)(2m+1)} \\
&= \frac{m+1}{2(2m+1)}.
\end{aligned}
\]
ここで $n = 2m$ なので $m = \dfrac{n}{2}$ とおき直すと
\[
\begin{aligned}
Q_n(m+1)
&= \frac{\dfrac{n}{2}+1}{2(n+1)} \\
&= \frac{n+2}{4(n+1)}.
\end{aligned}
\]

したがって，$n$ が偶数のとき，  
$$
k = \frac{n}{2},\ \frac{n}{2}+1
$$
で $Q_n(k)$ は同じ最大値をとり，その最大値は
$$
\frac{n+2}{4(n+1)}
$$
である。

---

以上をまとめると，

- (1) 積が1以上となる確率は  
  $$
  \frac{\binom{n}{k} + \binom{n}{k-1}}{\binom{n+2}{k}}
  = \frac{n+2-k}{n+2} \quad (1 \le k \le n+1)
  $$
  （$k=n+2$ のときは $0$）。

- (2) 積が2となる確率は  
  $$
  Q_n(k) = \frac{\binom{n}{k-1}}{\binom{n+2}{k}}.
  $$

- (3) 与えられた $n$ に対して $Q_n(k)$ が最大となる $k$ とその最大値は

  - $n$ が奇数のとき $k = \dfrac{n+1}{2}$，最大値 $\dfrac{n+3}{4(n+2)}$。
  - $n$ が偶数のとき $k = \dfrac{n}{2},\ \dfrac{n}{2}+1$，最大値 $\dfrac{n+2}{4(n+1)}$。