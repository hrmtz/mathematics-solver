## 解答

(1)  
1 回の試行で出る目 $X_i$ は $1,2,3,4,5,6$ のいずれかである。  
$X_1, X_2, \dots, X_n$ の最大公約数が $3$ であるとは，

- すべての $X_i$ が $3$ の倍数であり（つまり各 $X_i$ が $3$ または $6$），
- かつ $3$ で割った数列の最大公約数が $1$ である

ことと同値である。

各 $X_i$ は $3$ の倍数（$3$ または $6$）であるから，$X_i = 3Y_i$ とおくと，  
$Y_i$ は $1$ または $2$ をとる。  
したがって，$Y_1, Y_2, \dots, Y_n$ の最大公約数 $\gcd(Y_1,\dots,Y_n)$ は $1$ または $2$ である。

$X_1, \dots, X_n$ の最大公約数が $3$ である条件は
$$
\gcd(X_1,\dots,X_n) = 3
\iff
\gcd(Y_1,\dots,Y_n) = 1
$$
である。

ここで $Y_i$ が $1$ または $2$ をとり，$\gcd(Y_1,\dots,Y_n) = 1$ であるのは，
$Y_1,\dots,Y_n$ の中に少なくとも 1 つは $1$ が含まれる場合である。  
この確率を条件付き確率で計算する。

まず，$n$ 回投げた全事象の数は $6^n$ 通りである。

(i) すべて $X_i$ が $3$ の倍数である確率  
1 回で $3$ の倍数（$3$ または $6$）が出る確率は
$$
\frac{2}{6} = \frac{1}{3}
$$
したがって $n$ 回すべてが $3$ の倍数となる確率は
$$
\left(\frac{1}{3}\right)^n
$$
である。

(ii) そのような場合（すべて $3$ の倍数）において，$Y_1,\dots,Y_n$ の中に少なくとも 1 つ $1$ が含まれる確率  
$Y_i$ は $1$ または $2$ を等確率でとるので，$Y_i$ が $1$ である確率も $2$ である確率もともに $\frac{1}{2}$ である。

よって，「すべての $Y_i$ が $2$ である」確率は
$$
\left(\frac{1}{2}\right)^n
$$
であり，その余事象として，「少なくとも 1 つ $Y_i=1$ がある」確率は
$$
1 - \left(\frac{1}{2}\right)^n
$$
となる。

したがって，「$X_i$ がすべて $3$ の倍数で，かつ $\gcd(Y_1,\dots,Y_n)=1$」すなわち  
「$\gcd(X_1,\dots,X_n)=3$」となる確率は
$$
\left(\frac{1}{3}\right)^n \left(1 - \left(\frac{1}{2}\right)^n\right)
$$
である。

よって，求める確率は
$$
\boxed{\left(\dfrac{1}{3}\right)^n \left(1 - \left(\dfrac{1}{2}\right)^n\right)}
$$
となる。

---

(2)  
「$X_1,\dots,X_n$ の最大公約数が $1$ である」確率を求める。

補集合を用いて計算する。  
$X_1,\dots,X_n$ の最大公約数が $1$ でないとは，
$$
\gcd(X_1,\dots,X_n) \in \{2,3,4,5,6\}
$$
であることだが，さいころの目の取り得る値 $1,2,3,4,5,6$ を考えると，  
最大公約数が $4$ や $6$ なども含めて，結局「すべての $X_i$ が 2 の倍数である」または  
「すべての $X_i$ が 3 の倍数である」という場合を考えればよい。  
ただし，これら 2 つの事象は重なりがあり（すべてが 6 の倍数のとき），  
その重なりを重複分として引く必要がある。  
この重なりは「すべての $X_i$ が 6 の倍数である」場合である。

そこで，次の 3 つの事象を考える。

- $A$：すべての $X_i$ が 2 の倍数である事象
- $B$：すべての $X_i$ が 3 の倍数である事象
- $C$：すべての $X_i$ が 6 の倍数である事象（$A$ と $B$ の共通部分）

$n$ 回の試行の全事象数は $6^n$ 通りであるから，確率を直接計算する。

1 回で 2 の倍数（$2,4,6$）が出る確率は $\frac{3}{6} = \frac{1}{2}$ なので，
$$
P(A) = \left(\frac{1}{2}\right)^n
$$

1 回で 3 の倍数（$3,6$）が出る確率は $\frac{2}{6} = \frac{1}{3}$ なので，
$$
P(B) = \left(\frac{1}{3}\right)^n
$$

1 回で 6 の倍数（$6$）が出る確率は $\frac{1}{6}$ なので，
$$
P(C) = \left(\frac{1}{6}\right)^n
$$

「すべての $X_i$ が 2 の倍数」または「すべての $X_i$ が 3 の倍数」である確率は  
包除原理より
$$
P(A \cup B) = P(A) + P(B) - P(C)
= \left(\frac{1}{2}\right)^n + \left(\frac{1}{3}\right)^n - \left(\frac{1}{6}\right)^n
$$
となる。

したがって，最大公約数が $1$ である確率はその余事象の確率であり
$$
1 - P(A \cup B)
= 1 - \left\{ \left(\frac{1}{2}\right)^n + \left(\frac{1}{3}\right)^n - \left(\frac{1}{6}\right)^n \right\}
$$
である。

よって，求める確率は
$$
\boxed{1 - \left(\dfrac{1}{2}\right)^n - \left(\dfrac{1}{3}\right)^n + \left(\dfrac{1}{6}\right)^n}
$$
となる。