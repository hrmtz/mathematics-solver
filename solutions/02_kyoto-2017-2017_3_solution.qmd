## 解答

$\tan\alpha=\dfrac{1}{p}$，$\tan\beta=\dfrac{1}{q}$ と与えられている．

(1) まず，$\tan(\alpha+2\beta)$ を $\tan\alpha,\tan\beta$ で表す．

加法定理より  
$\tan(\alpha+2\beta)=\dfrac{\tan\alpha+\tan2\beta}{1-\tan\alpha\tan2\beta}$ であり，  
さらに $\tan2\beta=\dfrac{2\tan\beta}{1-\tan^2\beta}$ なので，
$$
\tan(\alpha+2\beta)
=\frac{\tan\alpha+\dfrac{2\tan\beta}{1-\tan^2\beta}}{1-\tan\alpha\cdot\dfrac{2\tan\beta}{1-\tan^2\beta}}
$$
となる．ここで $\tan\alpha=\dfrac{1}{p}$，$\tan\beta=\dfrac{1}{q}$ を代入すると，
分母分子に $1-\dfrac{1}{q^2}$ をかけて整理する：

- $1-\tan^2\beta=1-\dfrac{1}{q^2}=\dfrac{q^2-1}{q^2}$，
- $\dfrac{2\tan\beta}{1-\tan^2\beta}
= \dfrac{\dfrac{2}{q}}{\dfrac{q^2-1}{q^2}}
= \dfrac{2q}{q^2-1}$

よって
$$
\tan(\alpha+2\beta)
=\frac{\dfrac{1}{p}+\dfrac{2q}{q^2-1}}{1-\dfrac{1}{p}\cdot\dfrac{2q}{q^2-1}}.
$$

分子・分母を通分してまとめると
$$
\tan(\alpha+2\beta)
=\frac{\dfrac{q^2-1+2pq}{p(q^2-1)}}{\dfrac{p(q^2-1)-2q}{p(q^2-1)}}
=\frac{q^2-1+2pq}{p(q^2-1)-2q}.
$$

(2) 条件 $\tan(\alpha+2\beta)=2$ を代入して方程式を立てる．

$$
\frac{q^2-1+2pq}{p(q^2-1)-2q}=2
$$
より，
$$
q^2-1+2pq = 2\{p(q^2-1)-2q\}
$$
となる．右辺を展開すると
$$
2\{p(q^2-1)-2q\}
=2p(q^2-1)-4q
=2pq^2-2p-4q.
$$

したがって
$$
q^2-1+2pq = 2pq^2-2p-4q
$$
両辺を左辺に移項して整理する：
$$
0 = 2pq^2-2p-4q - (q^2-1+2pq)
$$
$$
0 = 2pq^2-2p-4q -q^2 +1 -2pq
$$
$$
0 = (2p-1)q^2 -2pq -2p -4q +1.
$$

よって
$$
(2p-1)q^2 -2pq -4q -2p +1 =0
$$
が $p,q$ に関する条件となる．

(3) $q$ についての2次方程式とみなして解を調べる．

上式を $q$ について整理する：
$$
(2p-1)q^2 - (2p+4)q -2p +1 =0.
$$

これを $q$ の2次方程式とみて判別式 $D$ を求める．
$$
D = (2p+4)^2 -4(2p-1)(-2p+1).
$$
まず，
$$
(2p+4)^2 =4p^2+16p+16,
$$
また $-2p+1=-(2p-1)$ を用いて
$$
(2p-1)(-2p+1) = -(2p-1)^2 = -(4p^2-4p+1),
$$
したがって
$$
-4(2p-1)(-2p+1)
= -4\{-(4p^2-4p+1)\}
= 16p^2-16p+4.
$$
ゆえに
$$
D = (4p^2+16p+16) + (16p^2-16p+4)
=20p^2+20.
$$

よって
$$
D = 20(p^2+1).
$$

$q$ が実数解をもち，さらに自然数であるためには，$\sqrt{D}$ が有理数である必要がある（2次方程式の解の公式より，分母は整数であるから，分子が有理でなければならない）．  
$D=20(p^2+1)$ なので，$\sqrt{p^2+1}$ が有理数である必要がある．

ここで，$p$ を自然数として，$p^2+1$ が平方数になる可能性を考える．  
もし $p^2+1 = k^2$（$k$ は整数）とすると
$$
k^2 - p^2 =1
\ \Rightarrow\ 
(k-p)(k+p)=1
$$
となる．左辺は整数の積で1であるから，$k-p=1$，$k+p=1$ が唯一の可能性である．これを解くと
$$
2k=2 \Rightarrow k=1,\quad 2p=0 \Rightarrow p=0
$$
となるが，$p$ は自然数なので $p=0$ は不適．したがって $p^2+1$ が平方数となる自然数 $p$ は存在しない．

よって $p$ が自然数のとき $\sqrt{p^2+1}$ は有理数にはならず，従って $\sqrt{D}=\sqrt{20(p^2+1)}$ も有理数にならない．

その結果，$q$ を与える解の公式
$$
q=\frac{(2p+4)\pm\sqrt{D}}{2(2p-1)}
$$
において分子が有理数にならないので，$q$ は有理数にはならない．特に自然数にもならない．

(4) 結論

自然数 $p,q$ に対して条件を満たすものは存在しない．

よって，$\tan(\alpha+2\beta)=2$ を満たす自然数の組 $(p,q)$ は存在しない．