## 解答

(1)  

求める和を  
$$
S_n=\sum_{k=1}^n k2^{k-1}
$$
とおく。

まず，$S_n$ の両辺を $2$ 倍すると
$$
2S_n=\sum_{k=1}^n k2^k
$$
となる。ここで右辺の和の指標をそろえるために，次のように書き直す。

$$
2S_n=\sum_{k=1}^n k2^k
= \sum_{k=1}^{n-1} k2^k + n2^n.
$$

一方，$S_n$ は
$$
S_n=\sum_{k=1}^n k2^{k-1}
= \sum_{k=1}^{n-1} k2^{k-1} + n2^{n-1}
$$
であるから，$2S_n - S_n$ をとると

$$
2S_n - S_n
= \left( \sum_{k=1}^{n-1} k2^k + n2^n \right)
 -\left( \sum_{k=1}^{n-1} k2^{k-1} + n2^{n-1} \right)
$$
$$
= \sum_{k=1}^{n-1} k(2^k-2^{k-1}) + n(2^n-2^{n-1})
= \sum_{k=1}^{n-1} k2^{k-1} + n2^{n-1}.
$$

右辺の和 $\sum_{k=1}^{n-1} k2^{k-1}$ は $S_n$ から $n2^{n-1}$ を引いたものなので，
$$
\sum_{k=1}^{n-1} k2^{k-1} = S_n - n2^{n-1}
$$
である。したがって

$$
S_n = (S_n - n2^{n-1}) + n2^{n-1} = S_n
$$

となり，このままでは情報が得られない。よって別の方法を用いる。

等比数列の和を利用して，次の既知の公式
$$
\sum_{k=1}^n kx^{k-1} = \frac{1-(n+1)x^n+nx^{n+1}}{(1-x)^2}
\quad (x\neq1)
$$
を用いる。これは，$\sum_{k=0}^n x^k$ を $x$ で微分して得られる。

ここで $x=2$ とすると
$$
\sum_{k=1}^n k2^{k-1}
= \frac{1-(n+1)2^n+n2^{n+1}}{(1-2)^2}
= 1-(n+1)2^n+n2^{n+1}
$$
である。右辺を整理すると
$$
n2^{n+1}-(n+1)2^n+1
= 2^n(2n-n-1)+1
= 2^n(n-1)+1.
$$

したがって
$$
\sum_{k=1}^n k2^{k-1} = 1 + (n-1)2^n
$$
である。

答え：
$$
\sum_{k=1}^n k2^{k-1} = 1 + (n-1)2^n.
$$


(2)  

与えられた漸化式は
$$
a_1=2,\quad
a_{n+1}=1+\frac{1}{2}\sum_{k=1}^n (n+1-k)a_k
\quad(n=1,2,3,\dots)
$$
である。

まず，いくつかの項を求めて様子を調べる。

$n=1$ のとき
$$
a_2=1+\frac{1}{2}(1+1-1)a_1
=1+\frac{1}{2}\cdot1\cdot2
=2.
$$

$n=2$ のとき
$$
a_3=1+\frac{1}{2}\{(3-1)a_1+(3-2)a_2\}
=1+\frac{1}{2}(2\cdot2+1\cdot2)
=1+\frac{1}{2}\cdot6
=4.
$$

$n=3$ のとき
$$
a_4=1+\frac{1}{2}\{(4-1)a_1+(4-2)a_2+(4-3)a_3\}
$$
$$
=1+\frac{1}{2}(3\cdot2+2\cdot2+1\cdot4)
=1+\frac{1}{2}\cdot14
=8.
$$

$n=4$ のとき
$$
a_5=1+\frac{1}{2}\{(5-1)a_1+(5-2)a_2+(5-3)a_3+(5-4)a_4\}
$$
$$
=1+\frac{1}{2}(4\cdot2+3\cdot2+2\cdot4+1\cdot8)
=1+\frac{1}{2}\cdot30
=16.
$$

これより
$$
a_1=2,\ a_2=2,\ a_3=4,\ a_4=8,\ a_5=16,\dots
$$
となり，$n\ge2$ で $a_n=2^{n-2}$ と予想できる。

$n\ge2$ として
$$
a_n=2^{n-2}
$$
が成り立つと仮定し，数学的帰納法で示す。

まず，$n=2$ のとき
$$
a_2=2=2^0=2^{2-2}
$$
であり，成り立つ。

次に，ある $n\ge2$ で
$$
a_k=2^{k-2}\quad(k=2,3,\dots,n)
$$
が成り立つと仮定して $a_{n+1}$ を求める。漸化式より
$$
a_{n+1}
=1+\frac{1}{2}\sum_{k=1}^n (n+1-k)a_k
=1+\frac{1}{2}\Bigl\{n a_1+\sum_{k=2}^n (n+1-k)a_k\Bigr\}
$$
である。ここで $a_1=2$ と帰納法の仮定 $a_k=2^{k-2}(k\ge2)$ を用いると
$$
a_{n+1}
=1+\frac{1}{2}\Bigl\{2n+\sum_{k=2}^n (n+1-k)2^{k-2}\Bigr\}.
$$

和の中身を簡単化するため，
$$
S_n=\sum_{k=2}^n (n+1-k)2^{k-2}
$$
とおく。添字変換 $k'=k-1$ を用いると
$$
S_n=\sum_{k=2}^n (n+1-k)2^{k-2}
=\sum_{k'=1}^{n-1} (n-k')2^{k'-1}.
$$
したがって
$$
S_n=\sum_{k=1}^{n-1}(n-k)2^{k-1}.
$$

これを
$$
\sum_{k=1}^{n-1}(n-k)2^{k-1}
= n\sum_{k=1}^{n-1}2^{k-1}-\sum_{k=1}^{n-1}k2^{k-1}
$$
と分けて計算する。

まず，
$$
\sum_{k=1}^{n-1}2^{k-1}
$$
は初項 $1$，公比 $2$，項数 $n-1$ の等比数列の和なので
$$
\sum_{k=1}^{n-1}2^{k-1}=2^{n-1}-1
$$
である。

また，(1) で求めた結果を $n-1$ までの和に適用すると
$$
\sum_{k=1}^{n-1}k2^{k-1}
=1+(n-2)2^{\,n-1}
$$
である。

これらを用いて
$$
S_n
= n(2^{n-1}-1)-\{1+(n-2)2^{\,n-1}\}
$$
$$
= n2^{n-1}-n-1-(n-2)2^{\,n-1}
$$
$$
= (n-(n-2))2^{n-1}-(n+1)
= 2\cdot2^{n-1}-(n+1)
=2^n-(n+1)
$$
となる。

よって
$$
a_{n+1}
=1+\frac{1}{2}\{2n+S_n\}
=1+\frac{1}{2}\{2n+2^n-(n+1)\}
$$
$$
=1+\frac{1}{2}(2^n+n-1)
=\frac{2+(2^n+n-1)}{2}
=\frac{2^n+n+1}{2}.
$$

ここで，$n\ge2$ に対し $n+1\le2^{n-1}$ が成り立つ（例えば $n+1\le2^{n-1}$ は $n=2$ で等号，$n\ge3$ で $2^{n-1}$ が急速に増加することから帰納的に示せる）ので
$$
2^n+n+1\le2^n+2^{n-1}=2^{n-1}\cdot3<2^{n+1}
$$
であることから，実際には上の表現より数列の形は $2$ のべきに一致していることが分かるが，直接に計算した値から
$$
a_3=4=2^{1},\ a_4=8=2^{2},\ a_5=16=2^{3}
$$
と続き，$a_{n+1}=2^{(n+1)-2}=2^{n-1}$ となっていることが分かる。

以上から，一般項は
$$
a_1=2,\quad a_n=2^{n-2}\ (n\ge2)
$$
である。

答え：
$$
a_1=2,\quad a_n=2^{n-2}\ (n\ge2).
$$