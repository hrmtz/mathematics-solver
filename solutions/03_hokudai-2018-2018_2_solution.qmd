## 解答

(1)  
$z=x+yi\ (x,y\in\mathbb{R})$ とおく。$z\neq 0$ なので $(x,y)\neq(0,0)$ である。

与えられた条件は
$$
z+\frac{4}{z}\ \text{が実数}
$$
であるから，その虚部が $0$ になることと同値である。

まず
$$
\frac{4}{z}=\frac{4}{x+yi}
=\frac{4(x-yi)}{x^2+y^2}
=\frac{4x}{x^2+y^2}-\frac{4y}{x^2+y^2}i
$$
より
$$
z+\frac{4}{z}
=\left(x+\frac{4x}{x^2+y^2}\right)
+\left(y-\frac{4y}{x^2+y^2}\right)i
$$
となる。

虚部が $0$ であるから
$$
y-\frac{4y}{x^2+y^2}=0
$$
である。これを整理する。

まず
$$
y-\frac{4y}{x^2+y^2}=y\left(1-\frac{4}{x^2+y^2}\right)=0
$$
となるので，
$$
y=0 \quad\text{または}\quad 1-\frac{4}{x^2+y^2}=0
$$
すなわち
$$
y=0 \quad\text{または}\quad x^2+y^2=4
$$
である。ただし $z\neq 0$ なので $(x,y)=(0,0)$ は除く。

したがって，$D$ は  
・実軸全体（ただし原点 $0$ を除く）と  
・中心が原点で半径 $2$ の円周  
の和集合である。

(2)  
$z\in D$ で
$$
k\left(z+\frac{4}{z}+8\right)=i\left(z-\frac{4}{z}\right)
$$
を満たすものが存在するような実数 $k$ の値の範囲を求める。

(1) より，$z\in D$ で $z\neq 0$ ならば
$$
z+\frac{4}{z} \text{ は実数}
$$
である。ここで
$$
A=z+\frac{4}{z}
$$
とおくと，$A$ は実数である。また
$$
z-\frac{4}{z}
=(z+\frac{4}{z})-2\cdot\frac{4}{z}
=A-\frac{8}{z}
$$
であるが，$A$ が実数であることだけ使えば十分なので，別の表し方を用いる。

$z=x+yi$ とすると
\[
z+\frac{4}{z}=A\ (\in\mathbb{R})
\]
だから，既に計算したように
$$
z+\frac{4}{z}
=\left(x+\frac{4x}{x^2+y^2}\right)
+\left(y-\frac{4y}{x^2+y^2}\right)i
$$
であり，$z\in D$ のとき虚部
$$
y-\frac{4y}{x^2+y^2}=0
$$
であるから，
$$
z+\frac{4}{z}=x+\frac{4x}{x^2+y^2}=A
$$
となる。一方
$$
z-\frac{4}{z}
=\left(x-\frac{4x}{x^2+y^2}\right)
+\left(y+\frac{4y}{x^2+y^2}\right)i
$$
であるが，上記の条件 $y-\dfrac{4y}{x^2+y^2}=0$ を用いると
$$
y+\frac{4y}{x^2+y^2}
=2y
$$
となり，したがって
$$
z-\frac{4}{z}
=\left(x-\frac{4x}{x^2+y^2}\right)+2yi
$$
となる。

ここで，問題の方程式
$$
k\left(z+\frac{4}{z}+8\right)=i\left(z-\frac{4}{z}\right)
$$
の両辺を，実部・虚部に分けて考える。

左辺は
$$
k\left(z+\frac{4}{z}+8\right)
=k\left(A+8\right)
$$
であり，$A$ は実数なので，左辺は実数である。

右辺は
$$
i\left(z-\frac{4}{z}\right)
=i\left\{\left(x-\frac{4x}{x^2+y^2}\right)+2yi\right\}
=i\left(x-\frac{4x}{x^2+y^2}\right)+i\cdot 2yi
$$
$$
=i\left(x-\frac{4x}{x^2+y^2}\right)-2y
$$
となる。すなわち
$$
i\left(z-\frac{4}{z}\right)
=-2y + i\left(x-\frac{4x}{x^2+y^2}\right)
$$
であり，右辺の実部は $-2y$，虚部は $x-\dfrac{4x}{x^2+y^2}$ である。

方程式
$$
k(A+8) = -2y + i\left(x-\frac{4x}{x^2+y^2}\right)
$$
が成り立つためには，両辺の虚部が等しくなければならない。左辺は実数なので，虚部は $0$ であるから
$$
x-\frac{4x}{x^2+y^2}=0
$$
が必要である。

よって
$$
x\left(1-\frac{4}{x^2+y^2}\right)=0
$$
となるので
$$
x=0 \quad\text{または}\quad x^2+y^2=4
$$
である。

一方，$z\in D$ であるから
$$
y=0 \quad\text{または}\quad x^2+y^2=4
$$
であった。

したがって，$z$ は次のいずれかを満たす。

1. $x^2+y^2=4$  
2. $x^2+y^2\neq 4$ だが，$y=0$ かつ $x=0$

しかし $x=y=0$ のとき $z=0$ となり，これは $z\neq 0$ に反するので除く。したがって，残るのは
$$
x^2+y^2=4
$$
すなわち
$$
|z|=2
$$
の場合だけである。

結局，方程式を満たす $z\in D$ は，原点中心・半径 $2$ の円周上の点（$|z|=2$）に限られる。

そこで，そのような $z$ に対して，方程式をさらに調べる。

$|z|=2$ のとき
$$
\frac{4}{z}=\frac{4}{z}\cdot\frac{\overline{z}}{\overline{z}}
=\frac{4\overline{z}}{|z|^2}
=\frac{4\overline{z}}{4}
=\overline{z}
$$
であるから
$$
z+\frac{4}{z}=z+\overline{z}=2\Re(z)
$$
は確かに実数であり，
$$
z-\frac{4}{z}=z-\overline{z}=2i\Im(z)
$$
である。ここで $\Re(z)$ は $z$ の実部，$\Im(z)$ は $z$ の虚部を表す。

したがって
$$
k\left(z+\frac{4}{z}+8\right)
=k\bigl(2\Re(z)+8\bigr)
$$
および
$$
i\left(z-\frac{4}{z}\right)
=i\cdot 2i\Im(z)
=-2\Im(z)
$$
となり，方程式は
$$
k\bigl(2\Re(z)+8\bigr)=-2\Im(z)
$$
と書ける。

ここで $z$ を極形式で表す。$|z|=2$ より，ある実数 $\theta$ を用いて
$$
z=2(\cos\theta+i\sin\theta)
$$
とおける。このとき
$$
\Re(z)=2\cos\theta,\quad \Im(z)=2\sin\theta
$$
であるから
$$
2\Re(z)+8 = 2\cdot 2\cos\theta + 8 = 4\cos\theta + 8,
$$
$$
-2\Im(z) = -2\cdot 2\sin\theta = -4\sin\theta
$$
となる。よって
$$
k(4\cos\theta+8) = -4\sin\theta
$$
である。$4$ で両辺を割ると
$$
k(\cos\theta+2) = -\sin\theta
$$
すなわち
$$
k = \frac{-\sin\theta}{\cos\theta+2}
$$
となる。ただし，分母 $ \cos\theta+2\neq 0$ であるが，$\cos\theta$ の取り得る値は $[-1,1]$ なので，$\cos\theta+2$ は $[1,3]$ を動き，$0$ にはならない。このため，全ての $\theta$ で上の式は意味をもつ。

よって，$k$ の取り得る値は
$$
k = \frac{-\sin\theta}{\cos\theta+2}
\quad(\theta\in\mathbb{R})
$$
の値全体である。これを実数 $x=\cos\theta$ とおき直して調べる。$\sin^2\theta + \cos^2\theta =1$ だから
$$
\sin\theta = \pm\sqrt{1-x^2},\quad x=\cos\theta,\quad -1\le x\le 1
$$
である。そこで
$$
k^2 = \frac{\sin^2\theta}{(\cos\theta+2)^2}
= \frac{1-\cos^2\theta}{(\cos\theta+2)^2}
= \frac{1-x^2}{(x+2)^2}
$$
となる。よって
$$
k^2 = f(x) := \frac{1-x^2}{(x+2)^2},\quad -1\le x\le 1.
$$

$f(x)$ の取り得る値の範囲を求める。分子 $1-x^2\ge 0$，分母 $(x+2)^2>0$ なので $f(x)\ge 0$ である。さらに
$$
f(-1)=\frac{1-(-1)^2}{(-1+2)^2}=\frac{0}{1}=0,\quad
f(1)=\frac{1-1^2}{(1+2)^2}=\frac{0}{9}=0
$$
である。

区間 $(-1,1)$ での最大値を求める。微分して
$$
f(x)=\frac{1-x^2}{(x+2)^2}
$$
より
$$
f'(x)
=\frac{-(2x)(x+2)^2-(1-x^2)\cdot 2(x+2)}{(x+2)^4}
=\frac{-2x(x+2)^2-2(x+2)(1-x^2)}{(x+2)^4}
$$
$$
=\frac{-2(x+2)\left\{x(x+2)+(1-x^2)\right\}}{(x+2)^4}
=\frac{-2\left\{x(x+2)+(1-x^2)\right\}}{(x+2)^3}
$$
となる。分子を整理すると
$$
x(x+2)+(1-x^2)
=x^2+2x+1-x^2
=2x+1
$$
であるから
$$
f'(x)=\frac{-2(2x+1)}{(x+2)^3}
$$
である。$x+2>0$（$x\ge -1$ だから）なので，分母は正であり，$f'(x)$ の符号は分子 $-2(2x+1)$ の符号で決まる。したがって
$$
2x+1=0 \iff x=-\frac{1}{2}
$$
で極値をとる。$x\in(-1,1)$ なので，$x=-\frac{1}{2}$ はこの区間に含まれる。

$x=-\dfrac12$ における値は
$$
f\left(-\frac12\right)
=\frac{1-\left(-\frac12\right)^2}{\left(-\frac12+2\right)^2}
=\frac{1-\frac14}{\left(\frac32\right)^2}
=\frac{\frac34}{\frac94}
=\frac34\cdot\frac49
=\frac13
$$
である。区間 $[-1,1]$ における $f$ の最大値は $x=-\frac12$ での値 $\dfrac13$，最小値は端点での $0$ であるから
$$
0\le f(x)\le \frac13
$$
すなわち
$$
0\le k^2\le \frac13
$$
となる。よって
$$
-\frac{1}{\sqrt{3}}\le k\le \frac{1}{\sqrt{3}}
$$
である。

以上より，$D$ に属する $z$ で与えられた方程式を満たすものが存在するための $k$ の条件は
$$
-\frac{1}{\sqrt{3}}\le k\le \frac{1}{\sqrt{3}}
$$
である。