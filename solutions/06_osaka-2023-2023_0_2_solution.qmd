## 解答

(1)  
$\log$ の底の変換公式を用いる。

まず $t=\log_2 x$ より，$x=2^t$ であり，
$$
\log_{\frac12}x
=\frac{\log_2 x}{\log_2\frac12}
=\frac{t}{-1}
=-t
$$
となる。

次に，
$$
\log_{\sqrt2}x
=\frac{\log_2 x}{\log_2\sqrt2}
=\frac{t}{\frac12}
=2t
$$
また，
$$
\log_4 x^3
=\frac{\log_2 x^3}{\log_2 4}
=\frac{3\log_2 x}{2}
=\frac{3t}{2}
$$
である。

したがって，
$$
y=(\log_{\frac12}x)^3+a(\log_{\sqrt2}x)(\log_4 x^3)
=(-t)^3+a\cdot(2t)\cdot\frac{3t}{2}
=-t^3+3at^2
$$
よって，
$$
y=-t^3+3at^2
$$
と表される。

(2)  
$x$ が $\dfrac12\leqq x\leqq 8$ を動くとき，$t=\log_2 x$ の値域を求める。

$x=\dfrac12$ のとき，
$$
t=\log_2\frac12 = -1
$$
$x=8$ のとき，
$$
t=\log_2 8 = 3
$$
よって $t$ は $-1\leqq t\leqq 3$ の範囲を動く。

(1)より
$$
y=f(t)=-t^3+3at^2
$$
とおけるから，区間 $[-1,3]$ における $f(t)$ の最大値を求める。

$f(t)$ を微分すると，
$$
f'(t)=-3t^2+6at=-3t(t-2a)
$$
である。極値は $f'(t)=0$，すなわち
$$
t=0,\ 2a
$$
で生じる。  
ただし $t$ の範囲は $-1\leqq t\leqq 3$ なので，$2a$ がこの範囲に入るかどうかで場合分けする。

まず，$f(t)$ の値を計算する。
$$
f(-1)=-(-1)^3+3a(-1)^2=1+3a
$$
$$
f(0)=0
$$
$$
f(3)=-3^3+3a\cdot 3^2=-27+27a=27(a-1)
$$
$$
f(2a)=-(2a)^3+3a(2a)^2
=-8a^3+12a^3=4a^3
$$
である。

$t=2a$ が区間 $[-1,3]$ に含まれるのは $-1\leqq 2a\leqq 3$，すなわち
$$
-\frac12\leqq a\leqq \frac32
$$
のときである。正の実数 $a$ なので，結局
$$
0<a\leqq \frac32
$$
のとき $t=2a$ も候補になる。

一方 $a>\dfrac32$ のときは $2a>3$ で区間外となるので，端点 $t=-1,3$ のみを比較すればよい。

以上より，$a$ の範囲ごとに $f(t)$ の値を比較する。

### 1. $0<a\leqq \dfrac32$ のとき

候補は $t=-1,0,2a,3$ であるが，$f(0)=0$ であり，他の値は次のとおり。

- $f(-1)=1+3a>0$ （$a>0$ より）
- $f(2a)=4a^3>0$
- $f(3)=27(a-1)$ は  
  - $0<a<1$ なら $f(3)<0$，  
  - $a=1$ なら $f(3)=0$，  
  - $1<a\leqq \dfrac32$ なら $f(3)>0$

したがって $f(3)$ は $a\leqq 1$ では最大値の候補にならない。  
残る $f(-1)$ と $f(2a)$ を比較する。
$$
f(2a)-f(-1)=4a^3-(1+3a)
=4a^3-3a-1
$$
これを因数分解すると
$$
4a^3-3a-1=(a-1)(4a^2+4a+1)
$$
となる。$4a^2+4a+1=(2a+1)^2>0$ なので，符号は $a-1$ の符号で決まる。

- $0<a<1$ のとき：$a-1<0$ より $f(2a)<f(-1)$  
  最大値は $f(-1)=1+3a$
- $a=1$ のとき：$f(2)=f(-1)=4$  
  最大値は $4$
- $1<a\leqq \dfrac32$ のとき：$a-1>0$ より $f(2a)>f(-1)$  
  最大値は $f(2a)=4a^3$

よって $0<a\leqq \dfrac32$ のときの最大値 $M$ は
$$
0<a\leqq 1:\quad M=1+3a
$$
$$
1<a\leqq \frac32:\quad M=4a^3
$$
である（$a=1$ のときは両式とも $4$ となり整合する）。

### 2. $a>\dfrac32$ のとき

このとき $t=2a$ は範囲外なので，$t=-1,3$ のみ比較する。  
$f(-1)=1+3a$，$f(3)=27(a-1)$ であり，
$$
f(3)-f(-1)=27(a-1)-(1+3a)
=24a-28
=4(6a-7)
$$
である。$a>\dfrac32$ なら $6a-7>2>0$ なので，$f(3)>f(-1)$ となる。  
よって最大値は $f(3)=27(a-1)$ である。

### 結論

$x$ が $\dfrac12\leqq x\leqq 8$ を動くとき，$y$ の最大値 $M$ は
$$
M=
\begin{cases}
1+3a & (0<a\leqq 1) \\[4pt]
4a^3 & (1\leqq a\leqq \dfrac32) \\[4pt]
27(a-1) & (a\geqq \dfrac32)
\end{cases}
$$
と表される。