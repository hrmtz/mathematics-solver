## 解答

(1)  
$\tan\alpha=\dfrac{1}{p}$，$\tan\beta=\dfrac{1}{q}$ で，条件(A)  
$\tan(\alpha+2\beta)=2$ を用いる。

まず，$\tan(\alpha+2\beta)$ を $\tan\alpha,\tan\beta$ で表す。  
加法定理より
$$
\tan(\alpha+2\beta)
=\frac{\tan\alpha+\tan2\beta}{1-\tan\alpha\tan2\beta}
$$
であり，さらに
$$
\tan2\beta=\frac{2\tan\beta}{1-\tan^2\beta}
$$
だから，$\tan\alpha=\dfrac{1}{p}$，$\tan\beta=\dfrac{1}{q}$ を代入すると
$$
\tan2\beta=\frac{2\cdot\frac{1}{q}}{1-\left(\frac{1}{q}\right)^2}
=\frac{2/q}{(q^2-1)/q^2}
=\frac{2q}{q^2-1}
$$
となる。したがって
$$
\tan(\alpha+2\beta)
= \frac{\frac{1}{p}+\frac{2q}{q^2-1}}{1-\frac{1}{p}\cdot\frac{2q}{q^2-1}}.
$$
条件(A)より，これが $2$ に等しいので
$$
\frac{\frac{1}{p}+\frac{2q}{q^2-1}}{1-\frac{1}{p}\cdot\frac{2q}{q^2-1}}=2
$$
が成り立つ。分母を払うと
$$
\frac{1}{p}+\frac{2q}{q^2-1}
=2\left(1-\frac{1}{p}\cdot\frac{2q}{q^2-1}\right)
=2-\frac{4q}{p(q^2-1)}
$$
となる。両辺を $p(q^2-1)$ 倍して整理すると
$$
(q^2-1)+2pq=2p(q^2-1)-4q
$$
すなわち
$$
(q^2-1)+2pq-2p(q^2-1)+4q=0
$$
である。これを $p$ について整理すると
$$
p\{2(1-q^2)+2q\}+(q^2-1+4q)=0
$$
すなわち
$$
p(2-2q^2+2q)+(q^2+4q-1)=0
$$
だから
$$
p=\frac{-\,q^2-4q+1}{2-2q^2+2q}
=\frac{q^2+4q-1}{2(q^2-q-1)}.
$$

よって，$p$ が自然数となるような $q$ を求めればよい。

$q\leq 3$ の自然数について調べる。

- $q=1$ のとき  
  分母 $2(q^2-q-1)=2(1-1-1)=-2\neq0$ だが
  $$
  p=\frac{1^2+4\cdot1-1}{2(1^2-1-1)}
  =\frac{4}{-2}=-2
  $$
  となり，自然数ではないので不適。

- $q=2$ のとき  
  $$
  p=\frac{2^2+4\cdot2-1}{2(2^2-2-1)}
  =\frac{11}{2}\quad(\text{自然数でない})
  $$
  よって不適。

- $q=3$ のとき  
  $$
  p=\frac{3^2+4\cdot3-1}{2(3^2-3-1)}
  =\frac{20}{10}=2
  $$
  となり，$p=2$ は自然数なので条件を満たす。

以上より，$q\leq 3$ のもとで条件(A)を満たす組は  
$$(p,q)=(2,3)$$
のみである。

---

(2)  
(1) で得た式
$$
p=\frac{q^2+4q-1}{2(q^2-q-1)}
$$
を用いる。$p,q$ は自然数であるから，右辺は正の整数でなければならない。

まず，分母の符号を調べる。  
$$
2(q^2-q-1)=2\{(q-\tfrac12)^2-\tfrac54\}
$$
であり，$q$ は自然数で $q>3$ のとき $q\ge4$ だから
$$
q^2-q-1 \ge 4^2-4-1=11>0
$$
となる。したがって，$q>3$ なら分母は正である。

次に分子の符号を見ると
$$
q^2+4q-1 = (q+2)^2-5
$$
であり，$q\ge1$ なら $q^2+4q-1>0$ となるので，特に $q>3$ で正である。  
よって，$q>3$ のとき右辺は正の有理数であるが，これが整数になるかどうかを調べる。

$p$ が整数であるための必要十分条件は，分母 $2(q^2-q-1)$ が分子 $q^2+4q-1$ を割り切ることである。  
ここで割り算を行い，余りを調べる。

まず
$$
\frac{q^2+4q-1}{q^2-q-1}
=1+\frac{5q}{q^2-q-1}
$$
が成り立つ（$q^2+4q-1=(q^2-q-1)+5q$）。  
したがって
$$
p=\frac{q^2+4q-1}{2(q^2-q-1)}
=\frac{1}{2}+\frac{5q}{2(q^2-q-1)}.
$$
ここで $q>3$ を仮定する。$q$ は自然数なので $2$ とは互いに素，かつ $q^2-q-1$ も奇数である（$q^2$ と $q$ は同じ偶奇なので $q^2-q$ は偶数，そこから $1$ を引くと奇数）。よって分母 $2(q^2-q-1)$ は偶数，分子 $5q$ は奇数となるから，分数 $\dfrac{5q}{2(q^2-q-1)}$ は既約分数の形で分母が $2$ の倍数，分子が奇数であり，整数にはならない。

より具体的に言えば，$\dfrac{5q}{2(q^2-q-1)}$ が整数であるには $2(q^2-q-1)$ が $5q$ を割り切る必要があるが，$2(q^2-q-1)>2\cdot11=22$ は $q>3$ のとき $5q$ より大きくなってしまうため（$q\ge4$ のとき $2(q^2-q-1)\ge22>5\cdot4=20$），割り切ることはできない。したがって，この分数は 0 でも整数でもない。

ゆえに
$$
p=\frac{1}{2}+\frac{5q}{2(q^2-q-1)}
$$
は整数にはなり得ない。これは $p$ が自然数であるという仮定に反する。  

したがって，条件(A)を満たす $p,q$ の組で $q>3$ であるものは存在しない。

---

以上より，条件(A)を満たす自然数 $p,q$ の組は $(p,q)=(2,3)$ のみであり，$q>3$ のものは存在しない。