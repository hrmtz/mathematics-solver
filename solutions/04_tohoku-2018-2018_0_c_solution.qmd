## 解答

(説明の便宜上，3行3列のマスを
上から1行め・2行め・3行め，
左から1列め・2列め・3列めと呼ぶ。)

---

## 解答

(1)  
各マスは，最初は黒である。  
1回ひっくり返されると白，2回なら黒，… と変化するので，「そのマスをひっくり返した回数が偶数回なら黒，奇数回なら白」となる。

さいころの出目を，順に  
1：上段，2：中段，3：下段，4：左列，5：中列，6：右列  
を「その列全体を1回ひっくり返す操作」と対応させる。

2回振るとき，出目の組は全部で $6^2=36$ 通りある。  
2回とも同じ出目のとき，その列は2回裏返されるので元に戻り，盤面全体も初期状態（全部黒）に戻る。

- 2回とも同じ出目：$(1,1),(2,2),\dots,(6,6)$ の6通り  
  このときはすべて黒になっている。

2回とも異なる出目を考える。  
行・列の交点にあるマスは，対応する「行の操作」と「列の操作」との2回の影響を受けるが，  
2回振る中で，あるマスに作用する操作は高々2回であり，  
9マス全部について偶数回（0回または2回）になるようにするのは不可能であることを確認する。

実際に場合分けすると，1回目と2回目が異なるとき，  
「行と行」「列と列」「行と列」の3種類に分かれる。

- 行と行（例：1と2）：  
  各マスは，いずれかの行に含まれるので，  
  上段・中段などの2つの行に属するマスは1回だけ，その他の行のマスは0回だけ裏返される。  
  よって必ず白ができる。

- 列と列（例：4と5）：  
  同様に，2つの列のマスが1回だけ裏返され，他は0回であり，白が残る。

- 行と列（例：1と4）：  
  行と列の交点の1マスだけが2回，他のその行と列のマスは1回，それ以外は0回となる。  
  したがって，「1マスは2回で黒」「その行と列の残り4マスは1回で白」「他の4マスは0回で黒」となり，白が残る。

よって，2回とも同じ出目の6通りのときにだけ，すべて黒になる。

したがって求める確率は  
$$
\frac{6}{36}=\frac{1}{6}
$$
である。

---

(2)  
3回振ったときに，すべての板が白であるとは，各マスが奇数回（1回または3回）だけひっくり返されていることを意味する。

まず，各マスについて，そのマスを含む「行操作」「列操作」がいくつ行われたかを考える。  
例えば，(1行め,1列め) のマスは，出目1（上段）と4（左列）が出たときだけ裏返される。

3回振るので，ひとつのマスに作用し得るのは，最大でも3回までである。  
ここで，「あるマスに作用する回数の和＝そのマスをひっくり返した回数」であり，各マスを1回か3回（奇数回）にしようとすると，  
全9マスの「ひっくり返される回数の合計」は奇数×9＝奇数になる。

一方，別の観点として，  
「1回の操作でひっくり返されるマスは必ず3枚（1行や1列の3マス）」であるから，  
3回の操作でひっくり返される回数の総和は  
$$
3\times3=9
$$
となり，これは奇数である。  
これは「全マスのひっくり返される回数の総和」であるから，  
この条件自体は「全体として奇数」で矛盾はない。

しかし，さらに条件を厳しく見る。  
「全マスが白」になるには，各マスのひっくり返される回数がすべて1回か3回でなければならない。  
3回振る中で1つのマスに3回作用させるには，  
そのマスを含む「行操作」と「列操作」とが3回のうちに3回とも起こる必要があるが，  
一つのマスが関わる行と列はそれぞれ1種類ずつ（例えば，上段と左列）しかないので，  
そのマスには「行」と「列」の2種類の操作しか影響しない。  
3回振るうち，その2種類しか絡まないから，  
そのマスに作用する回数は0,1,2回までであり，3回作用させることはできない。

したがって，各マスが取り得る作用回数は0,1,2回であり，  
「1回か3回」という条件から3回は不可能なので，1回のみが許される。  
すると，全9マスが1回ずつひっくり返される必要がある。  
このとき，全マスのひっくり返される回数の総和は9となり，  
一方で，1回の操作で3マスが裏返るから，3回の操作での総和は  
$$
3 \times 3 = 9
$$
であり，この点は整合する。

しかし，「9マスをちょうど1回ずつひっくり返す」ことが可能か調べる。  
3回の操作は，いずれも「1行」または「1列」を選ぶので，全体として  
「3本の行・列の集合」で9マスを重複なしに覆う必要がある。  
つまり，3本の「行か列」の集合の和集合がちょうど9マスで，しかも互いに交わらない（重ならない）必要がある。

ここで，行どうしは異なる行なら交わらず，列どうしも異なる列なら交わらないが，  
どの行もどの列とも1マスで交わる（行と列の交点が1マス）ため，  
「行と列をともに含む3本の選び方」では必ずマスの重なり（交点）が生じる。  
よって，3本すべて「行」だけ，あるいは3本すべて「列」だけを選ばないと重なりを避けられないが，  
3回のうちに同じ行（または列）を2回以上選べばそこは2回作用してしまい，  
「各マス1回ずつ」という条件に反する。  
また，3本すべて異なる行を選ぶと，9マスは3行全体（ただし各マス1回ずつ）となるが，  
今度は列方向にはどの列にも偏りなく3つの行がすべて含まれるので，  
実際には各マスは1回だが，このとき盤面の配列としては「上段・中段・下段」の3行だけであり，  
これは確かに9マスを1回ずつ覆う形であるが，  
実現するには3回の操作が「1,2,3」（3つの行）をすべて1回ずつ選ぶ必要がある。  
このとき，各マスは属する行で1回だけ裏返されるので，最終的に「すべて白」となるように見える。

ところが，初期状態はすべて黒であり，この3回の操作（1,2,3）を行うと，  
各マスはちょうど1回ずつひっくり返されて白になるので，  
これは条件を満たす「すべて白」になっている例である。  
さらに，同様に「4,5,6」（3列）をすべて1回ずつ選んだ場合も，各マス1回ずつで全部白になる。

以上より，「全マス1回ずつ」になる実現例は  
- 1,2,3（順不同）をちょうど1回ずつ出す  
- 4,5,6（順不同）をちょうど1回ずつ出す  
の2種類であり，それぞれ $3! = 6$ 通りの順序があるので，  
合計 $6+6=12$ 通りである。

よって，求める確率は  
$$
\frac{12}{6^3}
=\frac{12}{216}
=\frac{1}{18}
$$
である。

---

(3)  
求める図形は，中央の1マスだけが白で，他の8マスが黒になっている配置である。  
中央のマスを $(2,2)$ としよう。

このマス $(2,2)$ は，出目2（中段）と5（中列）が出たときだけ裏返される。  
3回振ったとき，このマスが白であるためには，  
$(2,2)$ に作用する回数が奇数回，すなわち1回か3回でなければならない。

一方，他の8マスは黒でなければならないので，それぞれのマスは裏返される回数が偶数回（0回または2回）である必要がある。

ここで，各マスがどの出目で裏返されるかを確認する。

- 四隅の4マス $(1,1),(1,3),(3,1),(3,3)$：  
  いずれも「1つの行」と「1つの列」にだけ属する。  
  例えば $(1,1)$ は，1（上段）と4（左列）でのみ裏返る。

- 辺の中点の4マス $(1,2),(2,1),(2,3),(3,2)$：  
  それぞれ行または列に2通りずつ属する：  
  例：$(1,2)$ は1（上段）と5（中列），$(2,1)$ は2（中段）と4（左列）など。

- 中央 $(2,2)$：  
  2（中段）と5（中列）に属する。

このうち，中央以外のマスについて，「何回属する行・列が選ばれたか」が偶数回でなければ黒にならない。

まず，$(2,2)$ について考える。  
$(2,2)$ を裏返すには，出目2または5が出なければならない。  
3回中に出目2と5が出た回数の和を $k$ とすると，中央マスは $k$ 回裏返される。  
白になるには $k$ が奇数（1または3）である。

- $k=3$ の場合：  
  3回とも2または5である。  
  3回とも2か5であるとき，他のマスはどうなるかを調べる。  
  特に，例えば $(1,2)$ は1（上段）と5（中列）でしか裏返されないが，  
  今は5しか関与しないから，5が出た回数だけ裏返る。  
  3回中，5が何回出るかによっては $(1,2)$ が1回や3回裏返されて白になってしまう。  
  実際，5が奇数回出れば $(1,2)$ は白になる。  
  他のマスについても同様に，8マスすべてを偶数回にすることは不可能であることが分かる。  
  したがって $k=3$ は不可能。

- $k=1$ の場合：  
  出目2と5のうちどちらかが1回だけ出る。  
  残り2回は $\{1,3,4,6\}$ のいずれかである。

$(2,2)$ 以外の8マスが黒になるには，それぞれのマスに作用する回数が偶数（0または2）である必要がある。  
この条件を満たすような出目の並びを具体的に調べる。

対称性を利用して整理するため，行列の対応関係を行列として見る代わりに，  
「どの行・列に何回作用したか」の組を考える。

出目の種類と対応する行・列は次の通り：

- 行：1（上段），2（中段），3（下段）
- 列：4（左列），5（中列），6（右列）

3回振った結果として，「各行・列が何回選ばれたか」の回数を  
上段，中段，下段，左，中，右の順に $(a,b,c,d,e,f)$ 回とする。  
このとき $a+b+c+d+e+f=3$ である。

各マスごとに，属する行と列に対応する回数の和がそのマスのひっくり返される回数になる。

例えば  
$(1,1)$：上段と左列に属するので $a+d$ 回  
$(1,2)$：上段と中列に属するので $a+e$ 回  
$(2,2)$：中段と中列に属するので $b+e$ 回  
などである。

条件は次の通り：

- 中央 $(2,2)$：$b+e$ は奇数（=1）  
- その他8マス：それぞれの「行＋列」の回数は偶数

この連立条件を満たす整数 $(a,b,c,d,e,f)$ を探す。

まず，四隅と中央を見てみる：

- $(1,1)$：$a+d$ は偶数  
- $(1,3)$：$a+f$ は偶数  
- $(3,1)$：$c+d$ は偶数  
- $(3,3)$：$c+f$ は偶数  
- $(2,2)$：$b+e$ は奇数

ここから，  
$a+d$ と $c+d$ が偶数なので，$a$ と $c$ は同じ偶奇である。  
また，$a+f$ と $c+f$ も偶数なので，$a$ と $c$ はやはり同じ偶奇で，これは一貫している。

次に，辺の中点の4マス：

- $(1,2)$：$a+e$ は偶数  
- $(2,1)$：$b+d$ は偶数  
- $(2,3)$：$b+f$ は偶数  
- $(3,2)$：$c+e$ は偶数

$(1,2)$ と $(3,2)$ より，$a+e$，$c+e$ は偶数なので，$a$ と $c$ は $e$ と同じ偶奇になる。  
一方，$b+e$ は奇数なので，$b$ は $e$ と異なる偶奇である。

また，$b+d$ が偶数，$a+d$ が偶数より，$a$ と $b$ は同じ偶奇であるはずだが，  
先ほど $b$ は $e$ と異なる偶奇であり，$a$ は $e$ と同じ偶奇であることから，  
$a$ と $b$ は異なる偶奇でなければならない。  
この2つが矛盾するので，そのような $(a,b,c,d,e,f)$ は存在しない。

従って，3回振って上記の図のような盤面（中央のみ白，その他黒）になることは不可能である。

よって，求める確率は  
$$
0
$$
である。