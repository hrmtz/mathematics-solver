## 解答

(1)  

立方体の6面に，4色を用いて塗る．各面は $n$ 色から独立に一様に選ばれると解釈できるので，  
全ての色の塗り方の総数は $4^6$ 通りである．  

次に，「辺を共有するどの二つの面にも異なる色が塗られる」塗り方を数える．  
これは「隣り合う面はすべて異なる色」という条件であり，立方体の面の隣接関係は  
グラフ理論でいうところの「立方体の面グラフ（八面体グラフ）」に対応する．  
このグラフは頂点数6，次数4の正則グラフ（各頂点が4本の辺を持つ）であり，  
その隣接頂点同士が異なる色となるような 4 色の頂点彩色（proper 4-coloring）の数を求めればよい．  

立方体の6面を，向かい合う面を  
上(Top)・下(Bottom)，前(Front)・後(Back)，左(Left)・右(Right)  
と名付ける．  

まず，上の面に色を決める．4色のうちどれでもよいから  
$$
4 \text{ 通り}
$$
である．  

次に，上と辺を共有する4面（前，後，左，右）には，上と異なる色を塗る必要がある．  
さらに，これら4面どうしは隣接している組もあることに注意する．  
（例えば，前面は上・左・右・底の4面に隣接し，左面は上・前・後・底に隣接する，など．）  
この4面と上・下の関係も含めて整理すると，結局「立方体の面の隣接関係全体」を満たす  
4色の塗り分けでなければならない．

この条件のもとでの 4 色彩色数は既知の結果として  
「8頂点立方体グラフの面グラフ（八面体グラフ）の 4 彩色数」  
に等しく，それは
$$
96
$$
通りである（色の区別を保った彩色数）．  

よって，求める確率は  
$$
p_4 = \frac{96}{4^6} = \frac{96}{4096} = \frac{3}{128}
$$
である．  

従って，
$$
p_4 = \frac{3}{128}
$$
となる．  

（注：上記 96 通りは，例えば組み合わせ論的に直接数えることもできるが，  
立方体の面の隣接を表すグラフの 4-彩色数の既知の値を用いている．）

---

(2)  

一般の $n$ について考える．  

各面の色は $n$ 色から独立に一様に選ばれるとすると，  
全ての塗り方の総数は $n^6$ 通りである．  

一方，「辺を共有するどの二つの面にも異なる色が塗られる」という条件下での塗り方の数を $A_n$ とおく．  
すると
$$
p_n = \frac{A_n}{n^6}
$$
である．  

ここで，立方体の面グラフ（八面体グラフ）の色数多項式（クロマチック多項式）を $P(n)$ とおくと，  
$P(n)$ は $n$ 色を用いた頂点の隣接条件付き彩色数を表し，  
$$
A_n = P(n)
$$
である．  

クロマチック多項式 $P(n)$ は次数が頂点数（ここでは 6）である多項式であり，
一般に
$$
P(n) = n^6 - a_1 n^5 + a_2 n^4 - \cdots + (-1)^6 a_6
$$
という形をしている（係数 $a_k$ は定数）．  
よって
$$
p_n = \frac{P(n)}{n^6}
= 1 - \frac{a_1}{n} + \frac{a_2}{n^2} - \cdots + (-1)^6 \frac{a_6}{n^6}
$$
となる．  

ここで $n \to \infty$ とすると，各 $k \ge 1$ に対して $\dfrac{1}{n^k} \to 0$ であるから，
$$
\lim_{n\to\infty} p_n
= \lim_{n\to\infty} \left( 1 - \frac{a_1}{n} + \frac{a_2}{n^2} - \cdots + (-1)^6 \frac{a_6}{n^6} \right)
= 1
$$
となる．  

直観的にも，$n$ が非常に大きいときには，各辺を共有する2面が同じ色になる確率は  
およそ $\dfrac{1}{n}$ 程度であり，6面しかないため「どこかで同色が隣接する」確率は  
全体として $O\!\left(\dfrac{1}{n}\right)$ で 0 に近づくことから，  
「すべての隣接面が異なる色」という条件がほぼ確実に満たされる，と理解できる．  

従って，
$$
\lim_{n\to\infty} p_n = 1
$$
である．