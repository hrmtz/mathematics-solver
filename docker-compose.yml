version: "3.9"

services:
  app:
    build: .
    container_name: mathematics-solver
    ports:
      - "5000:5000"
    environment:
      # 必須
      OPENAI_API_KEY: "${OPENAI_API_KEY}"
      # 任意（未設定ならアプリ側デフォルト）
      OPENAI_VISION_MODEL: "gpt-4.1-mini"
      OPENAI_SOLUTION_MODEL: "gpt-5.1"
      FLASK_APP: "app.py"
      FLASK_RUN_HOST: "0.0.0.0"
      FLASK_RUN_PORT: "5000"
    volumes:
      - .:/app